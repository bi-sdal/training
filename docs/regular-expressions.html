<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Training Manual for SDAL</title>
  <meta name="description" content="This is a training manual for The Social and Decision Analytics Laboratory.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Training Manual for SDAL" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a training manual for The Social and Decision Analytics Laboratory." />
  <meta name="github-repo" content="bi-sdal/training" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Training Manual for SDAL" />
  
  <meta name="twitter:description" content="This is a training manual for The Social and Decision Analytics Laboratory." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="strings.html">
<link rel="next" href="factors.html">
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119721925-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119721925-1');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Training Manual for SDAL</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html"><i class="fa fa-check"></i>The Social and Decision Analytics Laboratory</a><ul>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#overview-our-mission-methods"><i class="fa fa-check"></i>Overview: Our Mission &amp; Methods</a></li>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#innovation-our-research-focus-areas"><i class="fa fa-check"></i>Innovation: Our Research Focus Areas</a></li>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#collaboration-our-research-partnerships"><i class="fa fa-check"></i>Collaboration: Our Research Partnerships</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html"><i class="fa fa-check"></i>Data Science for the Public Good Program</a><ul>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#problem"><i class="fa fa-check"></i>Problem</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#impact"><i class="fa fa-check"></i>Impact</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#program-sponsors-who-we-work-with"><i class="fa fa-check"></i>Program Sponsors: Who We Work With</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#previous-projects"><i class="fa fa-check"></i>Previous Projects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html"><i class="fa fa-check"></i>Lesson Materials</a><ul>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#software-carpenty"><i class="fa fa-check"></i>Software-Carpenty</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#data-carpentry"><i class="fa fa-check"></i>Data-Carpentry</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#the-carpentries"><i class="fa fa-check"></i>The Carpentries</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#datacamp"><i class="fa fa-check"></i>DataCamp</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#r-for-data-science"><i class="fa fa-check"></i>R for Data Science</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i>Setup</a><ul>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html"><i class="fa fa-check"></i>The Bash Shell</a><ul>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#windows"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#macos"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#linux"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i>Git</a><ul>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#windows-1"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#macos-1"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#linux-1"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html"><i class="fa fa-check"></i>Text Editor</a><ul>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#windows-2"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#macos-2"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#linux-2"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i>R</a><ul>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#windows-3"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#macos-3"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#linux-3"><i class="fa fa-check"></i>Linux</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#post-installation-settings"><i class="fa fa-check"></i>Post installation settings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html"><i class="fa fa-check"></i>SQLite</a><ul>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#windows-4"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#macos-4"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#linux-4"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html"><i class="fa fa-check"></i>SSH Keys</a><ul>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#github"><i class="fa fa-check"></i>GitHub</a></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#lightfoot"><i class="fa fa-check"></i>Lightfoot</a></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#gitlab-devlab"><i class="fa fa-check"></i>GitLab (devlab)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="latex.html"><a href="latex.html"><i class="fa fa-check"></i>LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html"><i class="fa fa-check"></i>Syllabus</a><ul>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html"><i class="fa fa-check"></i>Lesson Breakdown</a><ul>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-1"><i class="fa fa-check"></i>Lesson 1</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-2"><i class="fa fa-check"></i>Lesson 2</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-3"><i class="fa fa-check"></i>Lesson 3</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-4"><i class="fa fa-check"></i>Lesson 4</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-5"><i class="fa fa-check"></i>Lesson 5</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-6"><i class="fa fa-check"></i>Lesson 6</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-7"><i class="fa fa-check"></i>Lesson 7</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-8"><i class="fa fa-check"></i>Lesson 8</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-9"><i class="fa fa-check"></i>Lesson 9</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-10"><i class="fa fa-check"></i>Lesson 10</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-11"><i class="fa fa-check"></i>Lesson 11</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I SDAL Specific Components</b></span></li>
<li class="chapter" data-level="1" data-path="infrastructure.html"><a href="infrastructure.html"><i class="fa fa-check"></i><b>1</b> Infrastructure</a><ul>
<li class="chapter" data-level="1.1" data-path="components.html"><a href="components.html"><i class="fa fa-check"></i><b>1.1</b> Components</a></li>
<li class="chapter" data-level="1.2" data-path="accessing-servers.html"><a href="accessing-servers.html"><i class="fa fa-check"></i><b>1.2</b> Accessing Servers</a></li>
<li class="chapter" data-level="1.3" data-path="project-template.html"><a href="project-template.html"><i class="fa fa-check"></i><b>1.3</b> Project Template</a></li>
<li class="chapter" data-level="1.4" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html"><i class="fa fa-check"></i><b>1.4</b> Getting a project repository</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html#using-terminal"><i class="fa fa-check"></i><b>1.4.1</b> Using Terminal</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html#using-rstudio"><i class="fa fa-check"></i><b>1.4.2</b> Using RStudio</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Version Control</b></span></li>
<li class="chapter" data-level="2" data-path="git-1.html"><a href="git-1.html"><i class="fa fa-check"></i><b>2</b> Git</a><ul>
<li class="chapter" data-level="2.1" data-path="git-on-your-own.html"><a href="git-on-your-own.html"><i class="fa fa-check"></i><b>2.1</b> Git on your own</a></li>
<li class="chapter" data-level="2.2" data-path="git-with-branches.html"><a href="git-with-branches.html"><i class="fa fa-check"></i><b>2.2</b> Git with branches</a></li>
<li class="chapter" data-level="2.3" data-path="collaborating-with-git.html"><a href="collaborating-with-git.html"><i class="fa fa-check"></i><b>2.3</b> Collaborating with Git</a></li>
<li class="chapter" data-level="2.4" data-path="protecting-branches.html"><a href="protecting-branches.html"><i class="fa fa-check"></i><b>2.4</b> Protecting branches</a></li>
</ul></li>
<li class="part"><span><b>III R</b></span></li>
<li class="chapter" data-level="3" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>3</b> Data Visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="loading-ggplot2.html"><a href="loading-ggplot2.html"><i class="fa fa-check"></i><b>3.1</b> Loading ggplot2</a></li>
<li class="chapter" data-level="3.2" data-path="creating-a-ggplot.html"><a href="creating-a-ggplot.html"><i class="fa fa-check"></i><b>3.2</b> Creating a ggplot</a></li>
<li class="chapter" data-level="3.3" data-path="aesthetic-mapings.html"><a href="aesthetic-mapings.html"><i class="fa fa-check"></i><b>3.3</b> Aesthetic Mapings</a></li>
<li class="chapter" data-level="3.4" data-path="facets.html"><a href="facets.html"><i class="fa fa-check"></i><b>3.4</b> Facets</a></li>
<li class="chapter" data-level="3.5" data-path="geometic-objects.html"><a href="geometic-objects.html"><i class="fa fa-check"></i><b>3.5</b> Geometic Objects</a></li>
<li class="chapter" data-level="3.6" data-path="statistical-transformations.html"><a href="statistical-transformations.html"><i class="fa fa-check"></i><b>3.6</b> Statistical Transformations</a></li>
<li class="chapter" data-level="3.7" data-path="position-adjustments.html"><a href="position-adjustments.html"><i class="fa fa-check"></i><b>3.7</b> Position Adjustments</a></li>
<li class="chapter" data-level="3.8" data-path="coordinate-systems.html"><a href="coordinate-systems.html"><i class="fa fa-check"></i><b>3.8</b> Coordinate Systems</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>4</b> Importing Data</a><ul>
<li class="chapter" data-level="4.1" data-path="loading-datasets.html"><a href="loading-datasets.html"><i class="fa fa-check"></i><b>4.1</b> Loading datasets</a></li>
<li class="chapter" data-level="4.2" data-path="writing-to-a-files.html"><a href="writing-to-a-files.html"><i class="fa fa-check"></i><b>4.2</b> Writing to a files</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformations.html"><a href="data-transformations.html"><i class="fa fa-check"></i><b>5</b> Data Transformations</a><ul>
<li class="chapter" data-level="5.1" data-path="dplyr-library.html"><a href="dplyr-library.html"><i class="fa fa-check"></i><b>5.1</b> <code>dplyr</code> library</a></li>
<li class="chapter" data-level="5.2" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>5.2</b> Filter</a></li>
<li class="chapter" data-level="5.3" data-path="comparison-operators.html"><a href="comparison-operators.html"><i class="fa fa-check"></i><b>5.3</b> Comparison (operators)</a></li>
<li class="chapter" data-level="5.4" data-path="logical-operators.html"><a href="logical-operators.html"><i class="fa fa-check"></i><b>5.4</b> Logical operators</a></li>
<li class="chapter" data-level="5.5" data-path="arrange.html"><a href="arrange.html"><i class="fa fa-check"></i><b>5.5</b> Arrange</a></li>
<li class="chapter" data-level="5.6" data-path="select.html"><a href="select.html"><i class="fa fa-check"></i><b>5.6</b> Select</a></li>
<li class="chapter" data-level="5.7" data-path="mutate.html"><a href="mutate.html"><i class="fa fa-check"></i><b>5.7</b> Mutate</a></li>
<li class="chapter" data-level="5.8" data-path="summarize-summarise.html"><a href="summarize-summarise.html"><i class="fa fa-check"></i><b>5.8</b> Summarize (summarise)</a></li>
<li class="chapter" data-level="5.9" data-path="groupby.html"><a href="groupby.html"><i class="fa fa-check"></i><b>5.9</b> Groupby</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>6</b> Tidy data</a><ul>
<li class="chapter" data-level="6.1" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>6.1</b> tidyr</a></li>
<li class="chapter" data-level="6.2" data-path="gather.html"><a href="gather.html"><i class="fa fa-check"></i><b>6.2</b> Gather</a></li>
<li class="chapter" data-level="6.3" data-path="primer-to-joins.html"><a href="primer-to-joins.html"><i class="fa fa-check"></i><b>6.3</b> Primer to joins</a></li>
<li class="chapter" data-level="6.4" data-path="spread.html"><a href="spread.html"><i class="fa fa-check"></i><b>6.4</b> Spread</a></li>
<li class="chapter" data-level="6.5" data-path="separate.html"><a href="separate.html"><i class="fa fa-check"></i><b>6.5</b> Separate</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="relational-data-in-r.html"><a href="relational-data-in-r.html"><i class="fa fa-check"></i><b>7</b> Relational Data in R</a><ul>
<li class="chapter" data-level="7.1" data-path="create-simple-datasets.html"><a href="create-simple-datasets.html"><i class="fa fa-check"></i><b>7.1</b> Create simple datasets</a></li>
<li class="chapter" data-level="7.2" data-path="one-to-one.html"><a href="one-to-one.html"><i class="fa fa-check"></i><b>7.2</b> one-to-one</a></li>
<li class="chapter" data-level="7.3" data-path="many-to-one-or-one-to-many.html"><a href="many-to-one-or-one-to-many.html"><i class="fa fa-check"></i><b>7.3</b> many to one OR one to many</a></li>
<li class="chapter" data-level="7.4" data-path="many-to-many.html"><a href="many-to-many.html"><i class="fa fa-check"></i><b>7.4</b> many to many</a></li>
<li class="chapter" data-level="7.5" data-path="multiple-keys.html"><a href="multiple-keys.html"><i class="fa fa-check"></i><b>7.5</b> Multiple keys</a></li>
<li class="chapter" data-level="7.6" data-path="different-column-names.html"><a href="different-column-names.html"><i class="fa fa-check"></i><b>7.6</b> Different column names</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>8</b> Strings</a><ul>
<li class="chapter" data-level="8.1" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>8.1</b> Regular Expressions</a><ul>
<li class="chapter" data-level="8.1.1" data-path="regular-expressions.html"><a href="regular-expressions.html#intro"><i class="fa fa-check"></i><b>8.1.1</b> Intro</a></li>
<li class="chapter" data-level="8.1.2" data-path="regular-expressions.html"><a href="regular-expressions.html#basic-web-scraping-example"><i class="fa fa-check"></i><b>8.1.2</b> Basic Web Scraping Example</a></li>
<li class="chapter" data-level="8.1.3" data-path="regular-expressions.html"><a href="regular-expressions.html#lookaround-examples"><i class="fa fa-check"></i><b>8.1.3</b> Lookaround Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>9</b> Factors</a><ul>
<li class="chapter" data-level="9.1" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>9.1</b> forcats</a></li>
<li class="chapter" data-level="9.2" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>9.2</b> Sorting</a></li>
<li class="chapter" data-level="9.3" data-path="counting.html"><a href="counting.html"><i class="fa fa-check"></i><b>9.3</b> Counting</a></li>
<li class="chapter" data-level="9.4" data-path="re-ording-factors.html"><a href="re-ording-factors.html"><i class="fa fa-check"></i><b>9.4</b> Re-ording factors</a></li>
<li class="chapter" data-level="9.5" data-path="modifying-factor-values.html"><a href="modifying-factor-values.html"><i class="fa fa-check"></i><b>9.5</b> Modifying factor values</a><ul>
<li class="chapter" data-level="9.5.1" data-path="modifying-factor-values.html"><a href="modifying-factor-values.html#double-check-your-work"><i class="fa fa-check"></i><b>9.5.1</b> Double check your work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>10</b> Dates and Times</a><ul>
<li class="chapter" data-level="10.1" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>10.1</b> lubridate</a></li>
<li class="chapter" data-level="10.2" data-path="making-datetimes-from-data.html"><a href="making-datetimes-from-data.html"><i class="fa fa-check"></i><b>10.2</b> Making datetimes from data</a></li>
<li class="chapter" data-level="10.3" data-path="non-standard-date-formatting.html"><a href="non-standard-date-formatting.html"><i class="fa fa-check"></i><b>10.3</b> Non-standard date formatting</a></li>
<li class="chapter" data-level="10.4" data-path="strptime-format-variables.html"><a href="strptime-format-variables.html"><i class="fa fa-check"></i><b>10.4</b> strptime format variables</a></li>
<li class="chapter" data-level="10.5" data-path="datetime-arithmetic.html"><a href="datetime-arithmetic.html"><i class="fa fa-check"></i><b>10.5</b> Datetime arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sql-databases.html"><a href="sql-databases.html"><i class="fa fa-check"></i><b>11</b> SQL Databases</a><ul>
<li class="chapter" data-level="11.1" data-path="databases-in-r.html"><a href="databases-in-r.html"><i class="fa fa-check"></i><b>11.1</b> Databases in R</a><ul>
<li class="chapter" data-level="11.1.1" data-path="databases-in-r.html"><a href="databases-in-r.html#create-reusable-connection-to-database"><i class="fa fa-check"></i><b>11.1.1</b> CREATE REUSABLE CONNECTION TO DATABASE</a></li>
<li class="chapter" data-level="11.1.2" data-path="databases-in-r.html"><a href="databases-in-r.html#write-data-to-database-tables"><i class="fa fa-check"></i><b>11.1.2</b> WRITE DATA TO DATABASE TABLES</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>11.2</b> Joins</a><ul>
<li class="chapter" data-level="11.2.1" data-path="joins.html"><a href="joins.html#join-tables-in-sql-with-dbi"><i class="fa fa-check"></i><b>11.2.1</b> JOIN TABLES IN SQL WITH DBI</a></li>
<li class="chapter" data-level="11.2.2" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk"><i class="fa fa-check"></i><b>11.2.2</b> JOIN TABLES IN SQL IN SQL CHUNK</a></li>
<li class="chapter" data-level="11.2.3" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-with-output-variable"><i class="fa fa-check"></i><b>11.2.3</b> JOIN TABLES IN SQL IN SQL CHUNK WITH OUTPUT VARIABLE</a></li>
<li class="chapter" data-level="11.2.4" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-where-clause-and-fuzzy-search"><i class="fa fa-check"></i><b>11.2.4</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY WHERE CLAUSE AND FUZZY SEARCH</a></li>
<li class="chapter" data-level="11.2.5" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-where-clause-with-and-and-fuzzy-search"><i class="fa fa-check"></i><b>11.2.5</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY WHERE CLAUSE WITH ‘AND’ AND FUZZY SEARCH</a></li>
<li class="chapter" data-level="11.2.6" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-select-and-where-clause-with-and-and-fuzzy-search-and-order"><i class="fa fa-check"></i><b>11.2.6</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY SELECT AND WHERE CLAUSE WITH ‘AND’ AND FUZZY SEARCH AND ORDER</a></li>
<li class="chapter" data-level="11.2.7" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-select-and-where-clause-and-fuzzy-search-and-order-and-group-by-with-aggregate-function"><i class="fa fa-check"></i><b>11.2.7</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY SELECT AND WHERE CLAUSE AND FUZZY SEARCH AND ORDER AND GROUP BY WITH AGGREGATE FUNCTION</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="dplyr-and-data-table.html"><a href="dplyr-and-data-table.html"><i class="fa fa-check"></i><b>11.3</b> dplyr and data.table</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>12</b> Vectors</a></li>
<li class="chapter" data-level="13" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>13</b> Functions</a></li>
<li class="chapter" data-level="14" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>14</b> Iteration</a></li>
<li class="chapter" data-level="15" data-path="r-dialects.html"><a href="r-dialects.html"><i class="fa fa-check"></i><b>15</b> R Dialects</a></li>
<li class="part"><span><b>IV R Special Topics</b></span></li>
<li class="chapter" data-level="16" data-path="data-table.html"><a href="data-table.html"><i class="fa fa-check"></i><b>16</b> data.table</a></li>
<li class="chapter" data-level="17" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i><b>17</b> Spatial Data</a></li>
<li class="chapter" data-level="18" data-path="apis-and-web-scraping.html"><a href="apis-and-web-scraping.html"><i class="fa fa-check"></i><b>18</b> APIs and Web Scraping</a><ul>
<li class="chapter" data-level="18.1" data-path="tables-from-websites-wikipedia.html"><a href="tables-from-websites-wikipedia.html"><i class="fa fa-check"></i><b>18.1</b> Tables from websites (wikipedia)</a></li>
<li class="chapter" data-level="18.2" data-path="websites-rvest.html"><a href="websites-rvest.html"><i class="fa fa-check"></i><b>18.2</b> Websites (rvest)</a></li>
<li class="chapter" data-level="18.3" data-path="selenium.html"><a href="selenium.html"><i class="fa fa-check"></i><b>18.3</b> Selenium</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>19</b> Communication</a></li>
<li class="chapter" data-level="20" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>20</b> Shiny</a></li>
<li class="chapter" data-level="21" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>21</b> Text Mining</a></li>
<li class="part"><span><b>V Exercises</b></span></li>
<li class="part"><span><b>VI Back Matter</b></span></li>
<li class="chapter" data-level="" data-path="build-details.html"><a href="build-details.html"><i class="fa fa-check"></i>Build Details</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Training Manual for SDAL</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="regular-expressions" class="section level2">
<h2><span class="header-section-number">8.1</span> Regular Expressions</h2>
<div id="intro" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Intro</h3>
<p>Resources:
More detailed phone number example: <a href="https://stackoverflow.com/questions/16699007/regular-expression-to-match-standard-10-digit-phone-number" class="uri">https://stackoverflow.com/questions/16699007/regular-expression-to-match-standard-10-digit-phone-number</a>
Excellent cheat sheet: <a href="https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf</a>
More than you ever wanted: <a href="https://www.regular-expressions.info/tutorial.html" class="uri">https://www.regular-expressions.info/tutorial.html</a></p>
<p>A great package for regex in r is Hadley Wickham’s ‘stringr’ package. We’ll be using this often.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">library</span>(stringr)</a></code></pre></div>
<p>The main idea behind regular expressions (or regex) is to find blocks of text that match a certain pattern. This pattern can be as simple as a single letter or number, or as complicated as an entire address. Some simple examples.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1">allchars =<span class="st"> &#39;1234567890abcdefghijklmnopqrstuvwxyz&#39;</span></a>
<a class="sourceLine" id="cb205-2" data-line-number="2"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;1&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;1&quot;</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;12&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;12&quot;</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;13&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## character(0)</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;a&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot;</code></pre>
<p>A character class is a set of characters, any one of which will match.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;[12345]&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;[abcde]&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;[[:digit:]]&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot; &quot;0&quot;</code></pre>
<p>What if you wanted all numbers? There are a number of built in classes to save on typing:
‘\d’ is all digits
‘[[:lower:]]’ is all lower case letters
‘\s’ is all white space
‘.’ is anything at all and is known as the wildcard</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;[[:digit:]]&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot; &quot;0&quot;</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;[[:lower:]]&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;
## [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb223-1" data-line-number="1"><span class="kw">str_extract_all</span>(allchars, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">s&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## character(0)</code></pre>
<p>We’ll use a motivating example to introduce some other thing you can do with regular expressions. Let’s say you wanted to extract all the phone numbers in a body of text.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1">exampleText =<span class="st"> &quot;Some phone numbers are 7608675309, perhaps also 403-596-4038. Some people use periods in their numbers, so 402.367.5039. We can also have things like 304 385 1029 or (760)-581-3957. How can we extract all of these?&quot;</span></a></code></pre></div>
<p>We’ll start simple and try to build expressions that are general enough to get all the numbers in the above paragraph. The first number is the easiest, how can we match on any 10 numbers?</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;</code></pre>
<p>More succinctly we can use a quantifier to match a given number of times: {n} will match what it preceedes it n times.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{10}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;</code></pre>
<p>Other useful quantifiers are * to match at least 0 times, + to match at least once, and {n,m} to match between n and m times. We can use * to get the first two numbers.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{3}-*</span><span class="ch">\\</span><span class="st">d{3}-*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;   &quot;403-596-4038&quot;</code></pre>
<p>Sometimes the number groups are separated by -, sometimes by ‘.’. What happens if we try to get the number separated by periods?</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{3}.*</span><span class="ch">\\</span><span class="st">d{3}.*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309, perhaps also 403-596-4038. Some people use periods in their numbers, so 402.367.5039. We can also have things like 304 385 1029 or (760)-581-3957&quot;</code></pre>
<p>What happened? Since the period is the wildcard it matched all kinds of things. If we want to treat the period literally, instead of as a special character, we need to escape it with double backslashes:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">.*</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">.*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;   &quot;402.367.5039&quot;</code></pre>
<p>Now it’s treating period as a literal character. We can combine the expression matching period to the one matching - using character classes:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{3}[-</span><span class="ch">\\</span><span class="st">.]*</span><span class="ch">\\</span><span class="st">d{3}[-</span><span class="ch">\\</span><span class="st">.]*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;   &quot;403-596-4038&quot; &quot;402.367.5039&quot;</code></pre>
<p>The pattern ’[-\.]*’ will match either - or period at least 0 times. If you epect phone numbers with some other delimiter, you can toss it in that character class just the same. We can use the same idea to capture the space separated one.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">d{3}[-</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">d{3}[-</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;   &quot;403-596-4038&quot; &quot;402.367.5039&quot; &quot;304 385 1029&quot;</code></pre>
<p>The last challenge is getting the number with the parentheses. We can use the same idea. Note that since parenthese are a special character we need to escape them.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="kw">str_extract_all</span>(exampleText, <span class="st">&#39;</span><span class="ch">\\</span><span class="st">(*</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">)*[-</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">d{3}[-</span><span class="ch">\\</span><span class="st">.</span><span class="ch">\\</span><span class="st">s]*</span><span class="ch">\\</span><span class="st">d{4}&#39;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;7608675309&quot;     &quot;403-596-4038&quot;   &quot;402.367.5039&quot;   &quot;304 385 1029&quot;  
## [5] &quot;(760)-581-3957&quot;</code></pre>
</div>
<div id="basic-web-scraping-example" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Basic Web Scraping Example</h3>
<p>Regular expressions are very useful in the context of web scraping. This example is from a small scraping job we did on the Pulaski Board of Supervisors website to extract their meeting minutes. First, we should have a look at their website to get a lay of the land. It’s at: <a href="http://www.pulaskicounty.org/Board-of-Supervisors.html" class="uri">http://www.pulaskicounty.org/Board-of-Supervisors.html</a></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="kw">library</span>(XML)</a>
<a class="sourceLine" id="cb242-2" data-line-number="2">rooturl =<span class="st"> &quot;http://www.pulaskicounty.org/Board-of-Supervisors.html&quot;</span></a>
<a class="sourceLine" id="cb242-3" data-line-number="3">bosMainPage =<span class="st"> </span><span class="kw">htmlParse</span>(rooturl)</a>
<a class="sourceLine" id="cb242-4" data-line-number="4">bosMainPage</a></code></pre></div>
<pre><code>## &lt;!DOCTYPE html&gt;
## &lt;html lang=&quot;en&quot;&gt;
## &lt;head&gt;
## &lt;title&gt;Pulaski County&lt;/title&gt;
## &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; href=&quot;images/favicon.png&quot;&gt;
## &lt;meta charset=&quot;utf-8&quot;&gt;
## &lt;link href=&quot;css/reset.css&quot; rel=&quot;stylesheet&quot;&gt;
## &lt;link href=&quot;css/layout.css&quot; rel=&quot;stylesheet&quot;&gt;
## &lt;link href=&quot;css/style.css&quot; rel=&quot;stylesheet&quot;&gt;
## &lt;!--[if lt IE 7]&gt;
##       &lt;script src=&quot;http://info.template-help.com/files/ie6_warning/ie6_script_other.js&quot;&gt;&lt;/script&gt;
##    &lt;![endif]--&gt;&lt;!--[if IE]&gt;
##       &lt;script src=&quot;js/html5.js&quot;&gt;&lt;/script&gt;
##    &lt;![endif]--&gt;
## &lt;/head&gt;
## &lt;body id=&quot;page2&quot;&gt;
## &lt;div id=&quot;main&quot;&gt;
##   &lt;!-- header --&gt;
##   &lt;header&gt;&lt;h1&gt;&lt;a href=&quot;index.html&quot;&gt;&lt;span&gt;County government&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;
##     &lt;h2&gt;Orchestrated By Nature™&lt;/h2&gt;
## &lt;img class=&quot;Nature&quot; src=&quot;images/PulaskiNature.png&quot;&gt;&lt;form id=&quot;search_form&quot;&gt;
##       &lt;input type=&quot;text&quot; value=&quot;Searching ...&quot; onblur=&quot;if(this.value==&#39;&#39;) this.value=&#39;Searching ...&#39;&quot; onfocus=&quot;if(this.value ==&#39;Searching ...&#39; ) this.value=&#39;&#39;&quot;&gt;&lt;input type=&quot;image&quot; src=&quot;images/search_button.jpg&quot; alt=&quot;Start searching&quot;&gt;
## &lt;/form&gt; 
## 
##   &lt;/header&gt;&lt;!-- nav --&gt;&lt;nav&gt;&lt;ul&gt;
## &lt;li class=&quot;first&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;&lt;span&gt;Home&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##       &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;Departments.html&quot;&gt;&lt;span&gt;Departments&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##       
##       &lt;li&gt;&lt;a href=&quot;Things-to-Do.html&quot;&gt;&lt;span&gt;Attractions&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##       &lt;li&gt;&lt;a href=&quot;Employees-Employment.html&quot;&gt;&lt;span&gt;Employees/Employment&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##       &lt;li&gt;&lt;a href=&quot;Companies.html&quot;&gt;&lt;span&gt;Economic Development&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##       &lt;li class=&quot;last&quot;&gt;&lt;a href=&quot;Documents-Forms.html&quot;&gt;&lt;span&gt;Documents/Forms&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
##     &lt;/ul&gt;&lt;/nav&gt;&lt;!-- content --&gt;&lt;section id=&quot;content&quot;&gt;&lt;div id=&quot;indent&quot;&gt;
##       &lt;div class=&quot;wrapper&quot;&gt;
##         &lt;article class=&quot;col-1&quot;&gt;&lt;div class=&quot;wrapper&quot;&gt;
##               &lt;div class=&quot;block-1&quot;&gt;
##                 &lt;div class=&quot;box&quot;&gt;
##                   &lt;div class=&quot;inner&quot;&gt;
##               &lt;h3&gt;Categories:&lt;/h3&gt;
##               &lt;ul class=&quot;list2&quot;&gt;
## &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.boarddocs.com/va/copva/Board.nsf&quot;&gt;BoardDocs&lt;/a&gt;&lt;/li&gt;
##              &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pulaskichamber.info/&quot;&gt;Chamber of Commerce&lt;/a&gt;&lt;/li&gt;
##              &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;files/Churches.pdf&quot;&gt;Churches&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;telephone-numbers.htm&quot;&gt;Contact Directory&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;mailto:info@pulaskicounty.org&quot;&gt;Contact Us&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.facebook.com/PulaskiVirginia&quot;&gt;County Blog&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Employment-Opportunities.html&quot;&gt;Employment Opportunities&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;GIS.html&quot;&gt;GIS&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pclibs.org/&quot;&gt;Library&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Links.html&quot;&gt;Links&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pcva.us/&quot;&gt;Schools&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.dublintown.org/&quot;&gt;Town of Dublin&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pulaskitown.org/&quot;&gt;Town of Pulaski&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Website-Links-Statement.html&quot;&gt;Web Site Links Statement&lt;/a&gt;&lt;/li&gt;
##               &lt;/ul&gt;
## &lt;/div&gt;
##                 &lt;/div&gt;
##               &lt;/div&gt;
##               &lt;div class=&quot;block-2&quot;&gt;
##                 &lt;h3&gt;Pulaski County Board of Supervisors&lt;/h3&gt;
##  Andy McCready, Chairman &lt;br&gt;            
##  Massie District     &lt;br&gt;                            
##  Administration Office: 540-980 -7705&lt;br&gt;
##  Business:  540-980-8700&lt;br&gt; 
##  e-mail: &lt;a href=&quot;mailto:amc@pulaskicounty.org&quot;&gt; amc@pulaskicounty.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;   
##  
##  Charles R. Bopp, Vice-Chairman&lt;br&gt;      
##  Robinson District&lt;br&gt;   
##  Home:  540-980-2757 &lt;br&gt;    
##  e-mail: &lt;a href=&quot;mailto:cbopp@pulaskicounty.org&quot;&gt;cbopp@pulaskicounty.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;
##  
##  Joseph Guthrie&lt;br&gt;  
##  Cloyd District&lt;br&gt;  
##  Home:   540-674-2423&lt;br&gt;    
##  e-mail: &lt;a href=&quot;mailto:jwguthrie@pulaskicounty.org&quot;&gt;jwguthrie@pulaskicounty.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;
##  
##  Ranny E. O’Dell &lt;br&gt;             
##  Ingles District     &lt;br&gt;                        
##  Business:  540-980-3407&lt;br&gt; 
##  e-mail:    &lt;a href=&quot;mailto:odellroho289@aol.com&quot;&gt; odellroho289@aol.com&lt;/a&gt;&lt;br&gt;&lt;br&gt;  
## 
##  Dean K. Pratt       &lt;br&gt;        
##  Draper District&lt;br&gt; 
##  Home:   540-980-7150&lt;br&gt;    
##  e-mail: &lt;a href=&quot;mailto:dpratt@pulaskicounty.org&quot;&gt; dpratt@pulaskicounty.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;     
## 
##  Timothy Kirtner&lt;br&gt; 
##  County Attorney&lt;br&gt; 
##  c/o Gilmer Sadler Law Offices&lt;br&gt;   
##  P. O. Box 878&lt;br&gt;   
##  Pulaski, VA  24301&lt;br&gt;  
##  Work:   540-980-1360&lt;br&gt;    
##  e-mail: &lt;a href=&quot;mailto:tkirtner@gsish.com&quot;&gt;tkirtner@gsish.com&lt;/a&gt;
##          &lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##          &lt;h3&gt;Procedures, Vision, and Goals Statement&lt;/h3&gt;
##          &lt;a target=&quot;_blank&quot; href=&quot;bos/Board%20of%20Supervisors%20Procedures.pdf&quot;&gt;Board of Supervisiors Procedures regarding citizens comments&lt;/a&gt;
##          &lt;a target=&quot;_blank&quot; href=&quot;bos/2004-2007%20Board%20Goals.htm&quot;&gt;County Vision and Goals Statement&lt;/a&gt; 
##          &lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##                   &lt;h3&gt;Citizen Comments&lt;/h3&gt;
##                &lt;a href=&quot;files/Citizen%20Comments%20-%20Highway%20Matters.pdf&quot;&gt;Highway Matters&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;                   
## 
##                &lt;h3&gt;Noise Ordinance&lt;/h3&gt;
##                &lt;a href=&quot;files/Noise%20Ordinance%20Final.pdf&quot;&gt;Noise Ordinance&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;        
##                
##                &lt;h3&gt;2016-2017 Budget&lt;/h3&gt;
##                  &lt;a href=&quot;Budget/FY%202016%202017/Budget%20Advertisement.pdf&quot;&gt;Budget Advertisement&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/Revenue%20Chart.pdf&quot;&gt;Revenue Chart
## &lt;br&gt;&lt;/a&gt;
##                  &lt;a href=&quot;Budget/FY%202016%202017/Revenue%20History%20Chart.pdf&quot;&gt;Revenue History Chart
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/Revenue%20Chart.pdf&quot;&gt;Revenue Chart
## &lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/Expenditure%20Chart.pdf&quot;&gt;Expenditure Chart
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/Expenditure%20Summary.pdf&quot;&gt;Expenditure Summary&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/Expenditure%20History%20Chart.pdf&quot;&gt;Expenditure History Chart
## &lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/BOS%202016-17%20CIP%20BY%20PRIORITY%20RANK.pdf&quot;&gt;Capital Improvement Plans for the Board of Supervisors &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202016%202017/PSA%202016-17%20CIP%20BY%20PRIORITY%20RANK.pdf&quot;&gt;Capital Improvement Plans for the Public Service Authority&lt;/a&gt;
## &lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;                
## 
##  &lt;h3&gt;2015-2016 Budget&lt;/h3&gt;
##                  &lt;a href=&quot;Budget/FY%202015%202016/Budget%20Advertisement.pdf&quot;&gt;Budget Advertisement&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Revenue%20Projections.pdf&quot;&gt;Revenue Projections
## &lt;br&gt;&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Revenue%20History%20Chart.pdf&quot;&gt;Revenue History Chart
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Projected%20Revenues.pdf&quot;&gt;Projected Revenues
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Expenditure%20Summary.pdf&quot;&gt;Expenditure Summary&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Expenditure%20History%20Chart.pdf&quot;&gt;Expenditure History Chart
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Proposed%20Expenditures.pdf&quot;&gt;Projected Expenditures
## &lt;/a&gt; 
## &lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##                   &lt;h3&gt;Regional Tax Rate Comparisons&lt;/h3&gt;
## &lt;a href=&quot;Budget/FY%202015%202016/Comparison%20of%20Real%20Estate%20Rates.pdf&quot;&gt;Comparison of Real Estate Rates
## &lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Budget/FY%202015%202016/Personal%20Property%20Tax%20Rate%20Comparison.pdf&quot;&gt;Personal Property Taxes
## &lt;br&gt;&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##          &lt;h3&gt;Pulaski County Audits&lt;/h3&gt;
##          &lt;a target=&quot;_blank&quot; href=&quot;Audits.html&quot;&gt;County Audit Reports&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##          &lt;h3&gt;Pulaski County Goals&lt;/h3&gt;
##          &lt;a target=&quot;_blank&quot; href=&quot;files/Goals-Project.pdf&quot;&gt;Goals and Projects&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;p style=&quot;border-bottom:1px solid rgba(100, 100, 100, 0.05);&quot;&gt;&lt;/p&gt;
##          &lt;h3&gt;Roads&lt;/h3&gt;
##          &lt;a target=&quot;_blank&quot; href=&quot;bos/2008%20Six-Year%20Plan,%20and%20Waiting%20lists.pdf&quot;&gt;Six Year Road Improvement Plan&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; href=&quot;bos/2008%20Six-Year%20Waiting%20lists.pdf&quot;&gt;Six Year Road Improvement Waiting List&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; href=&quot;files/Road%20Names.pdf&quot;&gt;County Road Names&lt;/a&gt;
##                 &lt;div class=&quot;image_list  extra&quot;&gt;
##                   &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
##                 &lt;/div&gt;
##                 &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
##               &lt;/div&gt;
##               &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
##             &lt;/div&gt;
##         &lt;/article&gt;&lt;article class=&quot;col-2&quot;&gt;&lt;div class=&quot;box indent&quot;&gt;
##             &lt;div class=&quot;inner&quot;&gt;
##               &lt;h3&gt;Departments&lt;/h3&gt;
##               &lt;ul class=&quot;list2&quot;&gt;
## &lt;li class=&quot;light&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;files/Animal%20Control.pdf&quot;&gt;Animal Control&lt;/a&gt;&lt;/li&gt;
##              &lt;li&gt;&lt;a href=&quot;Board-of-Supervisors.html&quot;&gt;Board of Supervisors&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Building-Department.html&quot;&gt;Building Department&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Commissioner-of-the-Revenue.html&quot;&gt;Commissioner of the Revenue&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Courts.html&quot;&gt;Courts&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Emergency-Management.html&quot;&gt;Emergency Management&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Planning-Zoning.html&quot;&gt;Planning and Zoning Office&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Recreation.html&quot;&gt;Recreation&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Registrar.html&quot;&gt;Registrar&lt;/a&gt;&lt;/li&gt;
##                 &lt;li&gt;&lt;a href=&quot;Treasurer&#39;s-Office.html&quot;&gt;Treasurer&#39;s Office&lt;/a&gt;&lt;/li&gt;
##                 &lt;li class=&quot;light&quot;&gt;&lt;a href=&quot;Utilities-PSA.html&quot;&gt;Utilities - PSA&lt;/a&gt;&lt;/li&gt;
##                 
##               &lt;/ul&gt;
## &lt;/div&gt;
##           &lt;/div&gt;
##           &lt;div class=&quot;inner&quot;&gt;
##             &lt;p&gt;The Pulaski County Board of Supervisors meet regularly on the fourth Monday of each month beginning at 7:00 pm in the Board Room of the County Administration Building located at 143 Third Street, N.W. in the town of Pulaski.&lt;/p&gt;
##             &lt;p&gt;Board Minutes are not posted until officially approved by the Board of Supervisors. This Approval is normally completed at the next meeting of the board. &lt;/p&gt;
##             &lt;h3 class=&quot;extra red&quot;&gt;Minutes and Agendas&lt;/h3&gt;
##                     &lt;p class=&quot;aligncenter2&quot;&gt;
##                 &lt;a href=&quot;Board-of-Supervisors-Minutes-2017.html&quot;&gt;2017&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2016.html&quot;&gt;2016&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2015.html&quot;&gt;2015&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2014.html&quot;&gt;2014&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2013.html&quot;&gt;2013&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2012.html&quot;&gt;2012&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2011.html&quot;&gt;2011&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2010.html&quot;&gt;2010&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2009.html&quot;&gt;2009&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2008.html&quot;&gt;2008&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2007.html&quot;&gt;2007&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2006.html&quot;&gt;2006&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2005.html&quot;&gt;2005&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2004.html&quot;&gt;2004&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2003.html&quot;&gt;2003&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2002.html&quot;&gt;2002&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2000.html&quot;&gt;2000&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-2001.html&quot;&gt;2001&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1999.html&quot;&gt;1999&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1998.html&quot;&gt;1998&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1997.html&quot;&gt;1997&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1996.html&quot;&gt;1996&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1995.html&quot;&gt;1995&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1994.html&quot;&gt;1994&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1993.html&quot;&gt;1993&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1992.html&quot;&gt;1992&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;Board-of-Supervisors-Minutes-1991.html&quot;&gt;1991&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
##          &lt;img class=&quot;sidebarlogo&quot; src=&quot;images/logored.png&quot; alt=&quot;county seal&quot; width=&quot;150&quot; height=&quot;145&quot;&gt;&lt;p class=&quot;homeimg&quot;&gt;County of Pulaski, VA&lt;br&gt;
##               143 3rd ST NW, Suite 1&lt;br&gt;
##               Pulaski VA 24301&lt;br&gt;
##               540-980-7705&lt;br&gt;&lt;/p&gt;
##           &lt;/div&gt;
##         &lt;/article&gt;
## &lt;/div&gt;
##     &lt;/div&gt;
##   &lt;/section&gt;&lt;!-- footer --&gt;&lt;footer&gt;&lt;div class=&quot;inner&quot;&gt;
##       &lt;div class=&quot;wrapper&quot;&gt;
##         &lt;div class=&quot;col-1&quot;&gt;
##           &lt;p class=&quot;copy&quot;&gt;&lt;strong&gt;Pulaski County&lt;/strong&gt;  © 2014&lt;br&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.facebook.com/PulaskiVirginia/timeline?ref=page_internal&quot;&gt;
##          &lt;img src=&quot;images/facebooksmall.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;
##           &lt;div&gt;
##           &lt;/div&gt;
##         &lt;/div&gt;
##         &lt;div class=&quot;col-2&quot;&gt;
##           &lt;ul class=&quot;footer_list&quot;&gt;
## &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.boarddocs.com/va/copva/Board.nsf&quot;&gt;BoardDocs&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pulaskichamber.info/&quot;&gt;Chamber of Commerce&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;files/Churches.pdf&quot;&gt;Churches&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a href=&quot;telephone-numbers.htm&quot;&gt;Contact Directory&lt;/a&gt;&lt;/li&gt;
##           &lt;/ul&gt;
## &lt;/div&gt;
##         &lt;div class=&quot;col-3&quot;&gt;
##           &lt;ul class=&quot;footer_list&quot;&gt;
## &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;mailto:info@pulaskicounty.org&quot;&gt;Contact Us&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://www.facebook.com/PulaskiVirginia&quot;&gt;County Blog&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;GIS.html&quot;&gt;GIS&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pclibs.org/&quot;&gt;Library&lt;/a&gt;&lt;/li&gt;
##           &lt;/ul&gt;
## &lt;/div&gt;
##         &lt;div class=&quot;col-4&quot;&gt;
##           &lt;ul class=&quot;footer_list&quot;&gt;
## &lt;li&gt;&lt;a href=&quot;links.html&quot;&gt;Links&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pcva.us/&quot;&gt;Schools&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.dublintown.org/&quot;&gt;Town of Dublin&lt;/a&gt;&lt;/li&gt;
##             &lt;li&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.pulaskitown.org/&quot;&gt;Town of Pulaski&lt;/a&gt;&lt;/li&gt;
##           &lt;/ul&gt;
## &lt;/div&gt;
##         &lt;/div&gt;
##       &lt;/div&gt;
##     &lt;/footer&gt;
## &lt;/div&gt;
##   
## 
## &lt;/body&gt;
## &lt;/html&gt;
## </code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1">links =<span class="st"> </span><span class="kw">xpathSApply</span>(bosMainPage, <span class="st">&quot;//a/@href&quot;</span>)</a>
<a class="sourceLine" id="cb244-2" data-line-number="2">links</a></code></pre></div>
<pre><code>##                                                                  href 
##                                                          &quot;index.html&quot; 
##                                                                  href 
##                                                          &quot;index.html&quot; 
##                                                                  href 
##                                                    &quot;Departments.html&quot; 
##                                                                  href 
##                                                   &quot;Things-to-Do.html&quot; 
##                                                                  href 
##                                           &quot;Employees-Employment.html&quot; 
##                                                                  href 
##                                                      &quot;Companies.html&quot; 
##                                                                  href 
##                                                &quot;Documents-Forms.html&quot; 
##                                                                  href 
##                        &quot;https://www.boarddocs.com/va/copva/Board.nsf&quot; 
##                                                                  href 
##                                     &quot;http://www.pulaskichamber.info/&quot; 
##                                                                  href 
##                                                  &quot;files/Churches.pdf&quot; 
##                                                                  href 
##                                               &quot;telephone-numbers.htm&quot; 
##                                                                  href 
##                                       &quot;mailto:info@pulaskicounty.org&quot; 
##                                                                  href 
##                            &quot;https://www.facebook.com/PulaskiVirginia&quot; 
##                                                                  href 
##                                       &quot;Employment-Opportunities.html&quot; 
##                                                                  href 
##                                                            &quot;GIS.html&quot; 
##                                                                  href 
##                                              &quot;http://www.pclibs.org/&quot; 
##                                                                  href 
##                                                          &quot;Links.html&quot; 
##                                                                  href 
##                                                 &quot;http://www.pcva.us/&quot; 
##                                                                  href 
##                                          &quot;http://www.dublintown.org/&quot; 
##                                                                  href 
##                                         &quot;http://www.pulaskitown.org/&quot; 
##                                                                  href 
##                                        &quot;Website-Links-Statement.html&quot; 
##                                                                  href 
##                                        &quot;mailto:amc@pulaskicounty.org&quot; 
##                                                                  href 
##                                      &quot;mailto:cbopp@pulaskicounty.org&quot; 
##                                                                  href 
##                                  &quot;mailto:jwguthrie@pulaskicounty.org&quot; 
##                                                                  href 
##                                         &quot;mailto:odellroho289@aol.com&quot; 
##                                                                  href 
##                                     &quot;mailto:dpratt@pulaskicounty.org&quot; 
##                                                                  href 
##                                           &quot;mailto:tkirtner@gsish.com&quot; 
##                                                                  href 
##                             &quot;bos/Board of Supervisors Procedures.pdf&quot; 
##                                                                  href 
##                                       &quot;bos/2004-2007 Board Goals.htm&quot; 
##                                                                  href 
##                        &quot;files/Citizen Comments - Highway Matters.pdf&quot; 
##                                                                  href 
##                                     &quot;files/Noise Ordinance Final.pdf&quot; 
##                                                                  href 
##                        &quot;Budget/FY 2016 2017/Budget Advertisement.pdf&quot; 
##                                                                  href 
##                               &quot;Budget/FY 2016 2017/Revenue Chart.pdf&quot; 
##                                                                  href 
##                       &quot;Budget/FY 2016 2017/Revenue History Chart.pdf&quot; 
##                                                                  href 
##                               &quot;Budget/FY 2016 2017/Revenue Chart.pdf&quot; 
##                                                                  href 
##                           &quot;Budget/FY 2016 2017/Expenditure Chart.pdf&quot; 
##                                                                  href 
##                         &quot;Budget/FY 2016 2017/Expenditure Summary.pdf&quot; 
##                                                                  href 
##                   &quot;Budget/FY 2016 2017/Expenditure History Chart.pdf&quot; 
##                                                                  href 
##            &quot;Budget/FY 2016 2017/BOS 2016-17 CIP BY PRIORITY RANK.pdf&quot; 
##                                                                  href 
##            &quot;Budget/FY 2016 2017/PSA 2016-17 CIP BY PRIORITY RANK.pdf&quot; 
##                                                                  href 
##                        &quot;Budget/FY 2015 2016/Budget Advertisement.pdf&quot; 
##                                                                  href 
##                         &quot;Budget/FY 2015 2016/Revenue Projections.pdf&quot; 
##                                                                  href 
##                       &quot;Budget/FY 2015 2016/Revenue History Chart.pdf&quot; 
##                                                                  href 
##                          &quot;Budget/FY 2015 2016/Projected Revenues.pdf&quot; 
##                                                                  href 
##                         &quot;Budget/FY 2015 2016/Expenditure Summary.pdf&quot; 
##                                                                  href 
##                   &quot;Budget/FY 2015 2016/Expenditure History Chart.pdf&quot; 
##                                                                  href 
##                       &quot;Budget/FY 2015 2016/Proposed Expenditures.pdf&quot; 
##                                                                  href 
##             &quot;Budget/FY 2015 2016/Comparison of Real Estate Rates.pdf&quot; 
##                                                                  href 
##       &quot;Budget/FY 2015 2016/Personal Property Tax Rate Comparison.pdf&quot; 
##                                                                  href 
##                                                         &quot;Audits.html&quot; 
##                                                                  href 
##                                             &quot;files/Goals-Project.pdf&quot; 
##                                                                  href 
##                       &quot;bos/2008 Six-Year Plan, and Waiting lists.pdf&quot; 
##                                                                  href 
##                                 &quot;bos/2008 Six-Year Waiting lists.pdf&quot; 
##                                                                  href 
##                                                &quot;files/Road Names.pdf&quot; 
##                                                                  href 
##                                            &quot;files/Animal Control.pdf&quot; 
##                                                                  href 
##                                           &quot;Board-of-Supervisors.html&quot; 
##                                                                  href 
##                                            &quot;Building-Department.html&quot; 
##                                                                  href 
##                                    &quot;Commissioner-of-the-Revenue.html&quot; 
##                                                                  href 
##                                                         &quot;Courts.html&quot; 
##                                                                  href 
##                                           &quot;Emergency-Management.html&quot; 
##                                                                  href 
##                                                &quot;Planning-Zoning.html&quot; 
##                                                                  href 
##                                                     &quot;Recreation.html&quot; 
##                                                                  href 
##                                                      &quot;Registrar.html&quot; 
##                                                                  href 
##                                             &quot;Treasurer&#39;s-Office.html&quot; 
##                                                                  href 
##                                                  &quot;Utilities-PSA.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2017.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2016.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2015.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2014.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2013.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2012.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2011.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2010.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2009.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2008.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2007.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2006.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2005.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2004.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2003.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2002.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2000.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-2001.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1999.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1998.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1997.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1996.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1995.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1994.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1993.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1992.html&quot; 
##                                                                  href 
##                              &quot;Board-of-Supervisors-Minutes-1991.html&quot; 
##                                                                  href 
## &quot;https://www.facebook.com/PulaskiVirginia/timeline?ref=page_internal&quot; 
##                                                                  href 
##                        &quot;https://www.boarddocs.com/va/copva/Board.nsf&quot; 
##                                                                  href 
##                                     &quot;http://www.pulaskichamber.info/&quot; 
##                                                                  href 
##                                                  &quot;files/Churches.pdf&quot; 
##                                                                  href 
##                                               &quot;telephone-numbers.htm&quot; 
##                                                                  href 
##                                       &quot;mailto:info@pulaskicounty.org&quot; 
##                                                                  href 
##                            &quot;https://www.facebook.com/PulaskiVirginia&quot; 
##                                                                  href 
##                                                            &quot;GIS.html&quot; 
##                                                                  href 
##                                              &quot;http://www.pclibs.org/&quot; 
##                                                                  href 
##                                                          &quot;links.html&quot; 
##                                                                  href 
##                                                 &quot;http://www.pcva.us/&quot; 
##                                                                  href 
##                                          &quot;http://www.dublintown.org/&quot; 
##                                                                  href 
##                                         &quot;http://www.pulaskitown.org/&quot;</code></pre>
<p>The above code downloads the html for the Board’s website and saves it in bosMainPage. The next line extracts all the links leading away from that page. It looks like a promising place to look is in the links such as ‘Board-of-Supervisors-Minutes-1992.html’. We can get just those links with the following:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1">minutesLinks =<span class="st"> </span><span class="kw">grep</span>(<span class="st">&quot;Minutes&quot;</span>, links, <span class="dt">value =</span> T)</a>
<a class="sourceLine" id="cb246-2" data-line-number="2">fullMinutesUrl =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;http://www.pulaskicounty.org/&quot;</span>, minutesLinks)</a>
<a class="sourceLine" id="cb246-3" data-line-number="3">fullMinutesUrl</a></code></pre></div>
<pre><code>##  [1] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2017.html&quot;
##  [2] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2016.html&quot;
##  [3] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2015.html&quot;
##  [4] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2014.html&quot;
##  [5] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2013.html&quot;
##  [6] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2012.html&quot;
##  [7] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2011.html&quot;
##  [8] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2010.html&quot;
##  [9] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2009.html&quot;
## [10] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2008.html&quot;
## [11] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2007.html&quot;
## [12] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2006.html&quot;
## [13] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2005.html&quot;
## [14] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2004.html&quot;
## [15] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2003.html&quot;
## [16] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2002.html&quot;
## [17] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2000.html&quot;
## [18] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-2001.html&quot;
## [19] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1999.html&quot;
## [20] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1998.html&quot;
## [21] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1997.html&quot;
## [22] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1996.html&quot;
## [23] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1995.html&quot;
## [24] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1994.html&quot;
## [25] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1993.html&quot;
## [26] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1992.html&quot;
## [27] &quot;http://www.pulaskicounty.org/Board-of-Supervisors-Minutes-1991.html&quot;</code></pre>
<p>The function grep is a base r function that returns strings which contain a pattern. We used it above to take all the urls on the main page and extract only the ones which contain ‘Minutes’, since those are the ones that contain links to the meeting minutes.</p>
<p>Now we have all the urls to the pages where the minutes are kept. To work with all of them we could use a loop or an apply function, but we’ll just do one for illustration. We want to go to the page, find all the pdf’s with the minutes, and download them. A natural idea is to find everything with ‘.pdf’, but observe:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1">minutePage2016 =<span class="st"> </span><span class="kw">htmlParse</span>(fullMinutesUrl[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb248-2" data-line-number="2">pdfLinks =<span class="st"> </span><span class="kw">grep</span>(<span class="st">&quot;.pdf&quot;</span>, <span class="kw">xpathSApply</span>(minutePage2016, <span class="st">&quot;//a/@href&quot;</span>), <span class="dt">value =</span> T)</a>
<a class="sourceLine" id="cb248-3" data-line-number="3">pdfLinks</a></code></pre></div>
<pre><code>##                                                             href 
##                                             &quot;files/Churches.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/01 18 minutes organizational.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/01 25 minutes regular.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/02 16 minutes budget.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/02 22 minutes regular.pdf&quot; 
##                                                             href 
##           &quot;bos/Minutes and Agendas/2016/02 26 minutes joint.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/02 29 minutes budget.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/03 07 minutes budget.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/03 14 minutes budget.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/03 21 minutes budget.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/03 28 minutes regular.pdf&quot; 
##                                                             href 
##           &quot;bos/Minutes and Agendas/2016/03 31 minutes joint.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/04 04 minutes budget.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/04 11 minutes budget.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/04 25 minutes regular.pdf&quot; 
##                                                             href 
##          &quot;bos/Minutes and Agendas/2016/05 02 minutes budget.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/05 23 minutes regular.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/07 25 minutes regular.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/08 02 minutes closed session.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/08 15 minutes closed session.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/08 22 minutes regular.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/09 07 minutes closed session.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/09 26 minutes regular.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/09 28 minutes closed session.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/10 14 minutes special.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/10 24 minutes regular.pdf&quot; 
##                                                             href 
## &quot;bos/Minutes and Agendas/2016/11 09 minutes electoral board.pdf&quot; 
##                                                             href 
##         &quot;bos/Minutes and Agendas/2016/11 28 minutes regular.pdf&quot; 
##                                                             href 
##  &quot;bos/Minutes and Agendas/2016/11 30 minutes closed session.pdf&quot; 
##                                                             href 
##                                       &quot;files/Animal Control.pdf&quot; 
##                                                             href 
##                                             &quot;files/Churches.pdf&quot;</code></pre>
<p>It’s always wise to make sure your expressions are getting you the things you want. Here, we have all the meeting pdfs, but also some extra page images. In this case, we can match like so:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1">pdfLinks =<span class="st"> </span><span class="kw">grep</span>(<span class="st">&quot;Minutes and Agendas&quot;</span>, <span class="kw">xpathSApply</span>(minutePage2016, <span class="st">&quot;//a/@href&quot;</span>), <span class="dt">value =</span> T)</a>
<a class="sourceLine" id="cb250-2" data-line-number="2">fullPdfUrl =<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;http://www.pulaskicounty.org/&quot;</span>, pdfLinks)</a>
<a class="sourceLine" id="cb250-3" data-line-number="3">fullPdfUrl</a></code></pre></div>
<pre><code>##  [1] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/01 18 minutes organizational.pdf&quot; 
##  [2] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/01 25 minutes regular.pdf&quot;        
##  [3] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/02 16 minutes budget.pdf&quot;         
##  [4] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/02 22 minutes regular.pdf&quot;        
##  [5] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/02 26 minutes joint.pdf&quot;          
##  [6] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/02 29 minutes budget.pdf&quot;         
##  [7] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/03 07 minutes budget.pdf&quot;         
##  [8] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/03 14 minutes budget.pdf&quot;         
##  [9] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/03 21 minutes budget.pdf&quot;         
## [10] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/03 28 minutes regular.pdf&quot;        
## [11] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/03 31 minutes joint.pdf&quot;          
## [12] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/04 04 minutes budget.pdf&quot;         
## [13] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/04 11 minutes budget.pdf&quot;         
## [14] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/04 25 minutes regular.pdf&quot;        
## [15] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/05 02 minutes budget.pdf&quot;         
## [16] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/05 23 minutes regular.pdf&quot;        
## [17] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/07 25 minutes regular.pdf&quot;        
## [18] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/08 02 minutes closed session.pdf&quot; 
## [19] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/08 15 minutes closed session.pdf&quot; 
## [20] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/08 22 minutes regular.pdf&quot;        
## [21] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/09 07 minutes closed session.pdf&quot; 
## [22] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/09 26 minutes regular.pdf&quot;        
## [23] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/09 28 minutes closed session.pdf&quot; 
## [24] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/10 14 minutes special.pdf&quot;        
## [25] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/10 24 minutes regular.pdf&quot;        
## [26] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/11 09 minutes electoral board.pdf&quot;
## [27] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/11 28 minutes regular.pdf&quot;        
## [28] &quot;http://www.pulaskicounty.org/bos/Minutes and Agendas/2016/11 30 minutes closed session.pdf&quot;</code></pre>
<p>By looping through all the years above and combining the results, we can get a full list of all the urls for the Pulaski Board of Supervisors minutes pdfs. Then, it’s a simple application of a loop to go in and download them all for later work.</p>
</div>
<div id="lookaround-examples" class="section level3">
<h3><span class="header-section-number">8.1.3</span> Lookaround Examples</h3>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1">naicsAndCompanies =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Name: Herbalife Ltd; NAICS: 325411, 325412, 424490&quot;</span>,                                    </a>
<a class="sourceLine" id="cb252-2" data-line-number="2"><span class="st">&quot;Name: Sanofi-Aventis SA; NAICS: 325412&quot;</span>,                      </a>
<a class="sourceLine" id="cb252-3" data-line-number="3"><span class="st">&quot;Name: Abbott Laboratories; NAICS: 325411, 325412, 325413, 325620, 334516, 339112&quot;</span>,  </a>
<a class="sourceLine" id="cb252-4" data-line-number="4"><span class="st">&quot;Name: Alexion Pharmaceuticals Inc; NAICS: 325412&quot;</span>,    </a>
<a class="sourceLine" id="cb252-5" data-line-number="5"><span class="st">&quot;Name: Purdue Pharma LP; NAICS: 325412; Name: Transcept Pharmaceuticals Inc; NAICS: 325412&quot;</span>,</a>
<a class="sourceLine" id="cb252-6" data-line-number="6"><span class="st">&quot;Name: Sanofi-Aventis SA; NAICS: 325412&quot;</span>)</a>
<a class="sourceLine" id="cb252-7" data-line-number="7">naicsAndCompanies</a></code></pre></div>
<pre><code>## [1] &quot;Name: Herbalife Ltd; NAICS: 325411, 325412, 424490&quot;                                       
## [2] &quot;Name: Sanofi-Aventis SA; NAICS: 325412&quot;                                                   
## [3] &quot;Name: Abbott Laboratories; NAICS: 325411, 325412, 325413, 325620, 334516, 339112&quot;         
## [4] &quot;Name: Alexion Pharmaceuticals Inc; NAICS: 325412&quot;                                         
## [5] &quot;Name: Purdue Pharma LP; NAICS: 325412; Name: Transcept Pharmaceuticals Inc; NAICS: 325412&quot;
## [6] &quot;Name: Sanofi-Aventis SA; NAICS: 325412&quot;</code></pre>
<p>We want a table with company names in one column and NAICS codes in another column. How can we extract the components we want?</p>
<p>Let’s focus on the first entry for now. Notice that a semicolon separates the name from the NAICS codes. We can use that to split the string using lookarounds.</p>
<p>(?=X) is the lookahead operator. It looks AHEAD for the pattern X; that is, it matches things that come BEFORE it
(?&lt;=X) is the lookbehind operator. It looks BEHIND for the pattern X; that is, it matches things that come AFTER it
(X) contains the pattern X that comes before the look ahead or after the lookbehind
‘.*’ means match the wildcard ‘.’ any number of times ’*’.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1">firstRegexCase =<span class="st"> </span>naicsAndCompanies[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb254-2" data-line-number="2">firstRegexCase</a></code></pre></div>
<pre><code>## [1] &quot;Name: Herbalife Ltd; NAICS: 325411, 325412, 424490&quot;</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1">company =<span class="st"> </span><span class="kw">str_extract</span>(firstRegexCase, <span class="st">&quot;(.*?)(?=;)&quot;</span>)</a>
<a class="sourceLine" id="cb256-2" data-line-number="2">naicsCodes =<span class="st"> </span><span class="kw">str_extract</span>(firstRegexCase, <span class="st">&quot;(?&lt;=NAICS: )(.*)&quot;</span>)</a>
<a class="sourceLine" id="cb256-3" data-line-number="3">company</a></code></pre></div>
<pre><code>## [1] &quot;Name: Herbalife Ltd&quot;</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1">naicsCodes</a></code></pre></div>
<pre><code>## [1] &quot;325411, 325412, 424490&quot;</code></pre>
<p>We’re getting there, but not quite. We don’t want that annoying ‘Name:’ in front of the company. We can achieve that with the following. The lookbehind ‘(?&lt;=Name: )’ will find a place in the string that matches the pattern ‘Name:’ and then match what comes next, which in this case is anything (.*).</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1">cleanerCompany =<span class="st"> </span><span class="kw">str_extract</span>(company, <span class="st">&quot;(?&lt;=Name: )(.*)&quot;</span>)</a>
<a class="sourceLine" id="cb260-2" data-line-number="2">cleanerCompany</a></code></pre></div>
<pre><code>## [1] &quot;Herbalife Ltd&quot;</code></pre>
<p>Note that we could have removed the ‘Name:’ directly using a function called gsub, but the lookbehind will be useful later. gsub replaces the pattern in the first argument with the pattern in the second wherever it finds it in the third argument.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1"><span class="kw">gsub</span>(<span class="st">&quot;Name: &quot;</span>, <span class="st">&quot;&quot;</span>, company)</a></code></pre></div>
<pre><code>## [1] &quot;Herbalife Ltd&quot;</code></pre>
<p>Now we can tackle the whole vector. We’ll use the same idea of separating names from codes using semicolons, but with two new challenges.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1">naicsAndCompanies[[<span class="dv">5</span>]]</a></code></pre></div>
<pre><code>## [1] &quot;Name: Purdue Pharma LP; NAICS: 325412; Name: Transcept Pharmaceuticals Inc; NAICS: 325412&quot;</code></pre>
<p>This entry has multiple companies in the same line. To get at both of them, we need to use str_extract_all() instead of just str_extract().</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1"><span class="kw">str_extract_all</span>(naicsAndCompanies, <span class="st">&quot;(?&lt;=Name: )(.*)(?=;)&quot;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Herbalife Ltd&quot;
## 
## [[2]]
## [1] &quot;Sanofi-Aventis SA&quot;
## 
## [[3]]
## [1] &quot;Abbott Laboratories&quot;
## 
## [[4]]
## [1] &quot;Alexion Pharmaceuticals Inc&quot;
## 
## [[5]]
## [1] &quot;Purdue Pharma LP; NAICS: 325412; Name: Transcept Pharmaceuticals Inc&quot;
## 
## [[6]]
## [1] &quot;Sanofi-Aventis SA&quot;</code></pre>
<p>Whoops, looks like we didn’t split the 5th string at the right place! This is because the regular expression by default tries to match the longest string possible. This is called greedy matching. We can disable it by adding ‘?’ after the wild card</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1">companies =<span class="st"> </span><span class="kw">str_extract_all</span>(naicsAndCompanies, <span class="st">&quot;(?&lt;=Name: )(.*?)(?=;)&quot;</span>)</a>
<a class="sourceLine" id="cb268-2" data-line-number="2">companies</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Herbalife Ltd&quot;
## 
## [[2]]
## [1] &quot;Sanofi-Aventis SA&quot;
## 
## [[3]]
## [1] &quot;Abbott Laboratories&quot;
## 
## [[4]]
## [1] &quot;Alexion Pharmaceuticals Inc&quot;
## 
## [[5]]
## [1] &quot;Purdue Pharma LP&quot;              &quot;Transcept Pharmaceuticals Inc&quot;
## 
## [[6]]
## [1] &quot;Sanofi-Aventis SA&quot;</code></pre>
<p>Now let’s do the same for the NAICS codes.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="kw">str_extract_all</span>(<span class="kw">paste0</span>(naicsAndCompanies), <span class="st">&quot;(?&lt;=NAICS: )(.*?)(?=;)&quot;</span>)</a></code></pre></div>
<pre><code>## [[1]]
## character(0)
## 
## [[2]]
## character(0)
## 
## [[3]]
## character(0)
## 
## [[4]]
## character(0)
## 
## [[5]]
## [1] &quot;325412&quot;
## 
## [[6]]
## character(0)</code></pre>
<p>What’s going on here? This code looks for stuff between ‘NAICS:’ and ‘;’, but except for the 5th line there’s never a ‘;’ after ‘NAICS:’. To get around this, we can use a logical OR operator, along with a special symbol meaning ‘end of the string’. Here, the expression ‘(;|$)’ means ’match either ; OR the end of the line;.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1">allNaics =<span class="st"> </span><span class="kw">str_extract_all</span>(<span class="kw">paste0</span>(naicsAndCompanies), <span class="st">&quot;(?&lt;=NAICS: )(.*?)(?=(;|$))&quot;</span>)</a>
<a class="sourceLine" id="cb272-2" data-line-number="2">allNaics</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;325411, 325412, 424490&quot;
## 
## [[2]]
## [1] &quot;325412&quot;
## 
## [[3]]
## [1] &quot;325411, 325412, 325413, 325620, 334516, 339112&quot;
## 
## [[4]]
## [1] &quot;325412&quot;
## 
## [[5]]
## [1] &quot;325412&quot; &quot;325412&quot;
## 
## [[6]]
## [1] &quot;325412&quot;</code></pre>
<p>Finally, we can put it all together and we have a clean company by naics table:</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb274-1" data-line-number="1">companyNaicsList =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">company =</span> <span class="kw">unlist</span>(companies), <span class="dt">naicsCodes =</span> <span class="kw">unlist</span>(allNaics))</a>
<a class="sourceLine" id="cb274-2" data-line-number="2">companyNaicsList</a></code></pre></div>
<pre><code>##                         company
## 1                 Herbalife Ltd
## 2             Sanofi-Aventis SA
## 3           Abbott Laboratories
## 4   Alexion Pharmaceuticals Inc
## 5              Purdue Pharma LP
## 6 Transcept Pharmaceuticals Inc
## 7             Sanofi-Aventis SA
##                                       naicsCodes
## 1                         325411, 325412, 424490
## 2                                         325412
## 3 325411, 325412, 325413, 325620, 334516, 339112
## 4                                         325412
## 5                                         325412
## 6                                         325412
## 7                                         325412</code></pre>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="strings.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bi-sdal/training/edit/master/060-strings.Rmd",
"text": "Edit"
},
"download": ["sdal-training.pdf", "sdal-training.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
