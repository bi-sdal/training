<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Training Manual for SDAL</title>
  <meta name="description" content="This is a training manual for The Social and Decision Analytics Laboratory.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Training Manual for SDAL" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a training manual for The Social and Decision Analytics Laboratory." />
  <meta name="github-repo" content="bi-sdal/training" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Training Manual for SDAL" />
  
  <meta name="twitter:description" content="This is a training manual for The Social and Decision Analytics Laboratory." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="bootstrapping.html">
<link rel="next" href="viewing-random-forests.html">
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119721925-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119721925-1');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Training Manual for SDAL</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html"><i class="fa fa-check"></i>The Social and Decision Analytics Laboratory</a><ul>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#overview-our-mission-methods"><i class="fa fa-check"></i>Overview: Our Mission &amp; Methods</a></li>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#innovation-our-research-focus-areas"><i class="fa fa-check"></i>Innovation: Our Research Focus Areas</a></li>
<li class="chapter" data-level="" data-path="the-social-and-decision-analytics-laboratory.html"><a href="the-social-and-decision-analytics-laboratory.html#collaboration-our-research-partnerships"><i class="fa fa-check"></i>Collaboration: Our Research Partnerships</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html"><i class="fa fa-check"></i>Data Science for the Public Good Program</a><ul>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#problem"><i class="fa fa-check"></i>Problem</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#methods"><i class="fa fa-check"></i>Methods</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#impact"><i class="fa fa-check"></i>Impact</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#program-sponsors-who-we-work-with"><i class="fa fa-check"></i>Program Sponsors: Who We Work With</a></li>
<li class="chapter" data-level="" data-path="data-science-for-the-public-good-program.html"><a href="data-science-for-the-public-good-program.html#previous-projects"><i class="fa fa-check"></i>Previous Projects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html"><i class="fa fa-check"></i>Lesson Materials</a><ul>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#software-carpenty"><i class="fa fa-check"></i>Software-Carpenty</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#data-carpentry"><i class="fa fa-check"></i>Data-Carpentry</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#the-carpentries"><i class="fa fa-check"></i>The Carpentries</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#datacamp"><i class="fa fa-check"></i>DataCamp</a></li>
<li class="chapter" data-level="" data-path="lesson-materials.html"><a href="lesson-materials.html#r-for-data-science"><i class="fa fa-check"></i>R for Data Science</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i>Setup</a><ul>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html"><i class="fa fa-check"></i>The Bash Shell</a><ul>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#windows"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#macos"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#linux"><i class="fa fa-check"></i>Linux</a></li>
<li class="chapter" data-level="" data-path="the-bash-shell.html"><a href="the-bash-shell.html#chromebook"><i class="fa fa-check"></i>Chromebook</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i>Git</a><ul>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#windows-1"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#macos-1"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#linux-1"><i class="fa fa-check"></i>Linux</a></li>
<li class="chapter" data-level="" data-path="git.html"><a href="git.html#chromebook-1"><i class="fa fa-check"></i>Chromebook</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html"><i class="fa fa-check"></i>Text Editor</a><ul>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#windows-2"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#macos-2"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="text-editor.html"><a href="text-editor.html#linux-2"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i>R</a><ul>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#windows-3"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#macos-3"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#linux-3"><i class="fa fa-check"></i>Linux</a></li>
<li class="chapter" data-level="" data-path="r.html"><a href="r.html#post-installation-settings"><i class="fa fa-check"></i>Post installation settings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html"><i class="fa fa-check"></i>SQLite</a><ul>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#windows-4"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#macos-4"><i class="fa fa-check"></i>macOS</a></li>
<li class="chapter" data-level="" data-path="sqlite.html"><a href="sqlite.html#linux-4"><i class="fa fa-check"></i>Linux</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html"><i class="fa fa-check"></i>SSH Keys</a><ul>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#github"><i class="fa fa-check"></i>GitHub</a></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#lightfoot"><i class="fa fa-check"></i>Lightfoot</a></li>
<li class="chapter" data-level="" data-path="ssh-keys.html"><a href="ssh-keys.html#gitlab-devlab"><i class="fa fa-check"></i>GitLab (devlab)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="latex.html"><a href="latex.html"><i class="fa fa-check"></i>LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html"><i class="fa fa-check"></i>Syllabus</a><ul>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html"><i class="fa fa-check"></i>Lesson Breakdown</a><ul>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-1"><i class="fa fa-check"></i>Lesson 1</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-2"><i class="fa fa-check"></i>Lesson 2</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-3"><i class="fa fa-check"></i>Lesson 3</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-4"><i class="fa fa-check"></i>Lesson 4</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-5"><i class="fa fa-check"></i>Lesson 5</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-6"><i class="fa fa-check"></i>Lesson 6</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-7"><i class="fa fa-check"></i>Lesson 7</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-8"><i class="fa fa-check"></i>Lesson 8</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-9"><i class="fa fa-check"></i>Lesson 9</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-10"><i class="fa fa-check"></i>Lesson 10</a></li>
<li class="chapter" data-level="" data-path="lesson-breakdown.html"><a href="lesson-breakdown.html#lesson-11"><i class="fa fa-check"></i>Lesson 11</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Presentations and Talks</b></span></li>
<li class="chapter" data-level="" data-path="dspg-introduction.html"><a href="dspg-introduction.html"><i class="fa fa-check"></i>DSPG Introduction</a></li>
<li class="chapter" data-level="" data-path="ethics.html"><a href="ethics.html"><i class="fa fa-check"></i>Ethics</a></li>
<li class="part"><span><b>II SDAL Specific Components</b></span></li>
<li class="chapter" data-level="1" data-path="infrastructure.html"><a href="infrastructure.html"><i class="fa fa-check"></i><b>1</b> Infrastructure</a><ul>
<li class="chapter" data-level="1.1" data-path="components.html"><a href="components.html"><i class="fa fa-check"></i><b>1.1</b> Components</a></li>
<li class="chapter" data-level="1.2" data-path="accessing-servers.html"><a href="accessing-servers.html"><i class="fa fa-check"></i><b>1.2</b> Accessing Servers</a><ul>
<li class="chapter" data-level="1.2.1" data-path="accessing-servers.html"><a href="accessing-servers.html#rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Rstudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="accessing-servers.html"><a href="accessing-servers.html#python"><i class="fa fa-check"></i><b>1.2.2</b> Python</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="project-template.html"><a href="project-template.html"><i class="fa fa-check"></i><b>1.3</b> Project Template</a></li>
<li class="chapter" data-level="1.4" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html"><i class="fa fa-check"></i><b>1.4</b> Getting a project repository</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html#using-terminal"><i class="fa fa-check"></i><b>1.4.1</b> Using Terminal</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-a-project-repository.html"><a href="getting-a-project-repository.html#using-rstudio"><i class="fa fa-check"></i><b>1.4.2</b> Using RStudio</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Version Control</b></span></li>
<li class="chapter" data-level="2" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>2</b> Version Control</a><ul>
<li class="chapter" data-level="2.1" data-path="git-1.html"><a href="git-1.html"><i class="fa fa-check"></i><b>2.1</b> Git</a></li>
<li class="chapter" data-level="2.2" data-path="git-setup.html"><a href="git-setup.html"><i class="fa fa-check"></i><b>2.2</b> Git setup</a></li>
<li class="chapter" data-level="2.3" data-path="git-on-your-own.html"><a href="git-on-your-own.html"><i class="fa fa-check"></i><b>2.3</b> Git on your own</a></li>
<li class="chapter" data-level="2.4" data-path="working-with-remotes.html"><a href="working-with-remotes.html"><i class="fa fa-check"></i><b>2.4</b> Working with remotes</a></li>
<li class="chapter" data-level="2.5" data-path="git-with-branches.html"><a href="git-with-branches.html"><i class="fa fa-check"></i><b>2.5</b> Git with branches</a></li>
<li class="chapter" data-level="2.6" data-path="collaborating-with-git.html"><a href="collaborating-with-git.html"><i class="fa fa-check"></i><b>2.6</b> Collaborating with Git</a></li>
<li class="chapter" data-level="2.7" data-path="protecting-branches.html"><a href="protecting-branches.html"><i class="fa fa-check"></i><b>2.7</b> Protecting branches</a></li>
<li class="chapter" data-level="2.8" data-path="help-faq.html"><a href="help-faq.html"><i class="fa fa-check"></i><b>2.8</b> Help! (FAQ)</a><ul>
<li class="chapter" data-level="2.8.1" data-path="help-faq.html"><a href="help-faq.html#general-workflow"><i class="fa fa-check"></i><b>2.8.1</b> General workflow</a></li>
<li class="chapter" data-level="2.8.2" data-path="help-faq.html"><a href="help-faq.html#git-push-rejected-master"><i class="fa fa-check"></i><b>2.8.2</b> Git push rejected (master)</a></li>
<li class="chapter" data-level="2.8.3" data-path="help-faq.html"><a href="help-faq.html#accidently-did-work-on-master"><i class="fa fa-check"></i><b>2.8.3</b> Accidently did work on <code>master</code>:</a></li>
<li class="chapter" data-level="2.8.4" data-path="help-faq.html"><a href="help-faq.html#get-changes-from-master-on-your-branch"><i class="fa fa-check"></i><b>2.8.4</b> Get changes from master on your branch</a></li>
<li class="chapter" data-level="2.8.5" data-path="help-faq.html"><a href="help-faq.html#remove-datafiles-from-history"><i class="fa fa-check"></i><b>2.8.5</b> Remove data/files from history</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV R</b></span></li>
<li class="chapter" data-level="3" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>3</b> Data Visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="loading-ggplot2.html"><a href="loading-ggplot2.html"><i class="fa fa-check"></i><b>3.1</b> Loading ggplot2</a></li>
<li class="chapter" data-level="3.2" data-path="creating-a-ggplot.html"><a href="creating-a-ggplot.html"><i class="fa fa-check"></i><b>3.2</b> Creating a ggplot</a></li>
<li class="chapter" data-level="3.3" data-path="aesthetic-mapings.html"><a href="aesthetic-mapings.html"><i class="fa fa-check"></i><b>3.3</b> Aesthetic Mapings</a></li>
<li class="chapter" data-level="3.4" data-path="facets.html"><a href="facets.html"><i class="fa fa-check"></i><b>3.4</b> Facets</a></li>
<li class="chapter" data-level="3.5" data-path="geometic-objects.html"><a href="geometic-objects.html"><i class="fa fa-check"></i><b>3.5</b> Geometic Objects</a></li>
<li class="chapter" data-level="3.6" data-path="statistical-transformations.html"><a href="statistical-transformations.html"><i class="fa fa-check"></i><b>3.6</b> Statistical Transformations</a></li>
<li class="chapter" data-level="3.7" data-path="position-adjustments.html"><a href="position-adjustments.html"><i class="fa fa-check"></i><b>3.7</b> Position Adjustments</a></li>
<li class="chapter" data-level="3.8" data-path="coordinate-systems.html"><a href="coordinate-systems.html"><i class="fa fa-check"></i><b>3.8</b> Coordinate Systems</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>4</b> Importing Data</a><ul>
<li class="chapter" data-level="4.1" data-path="loading-datasets.html"><a href="loading-datasets.html"><i class="fa fa-check"></i><b>4.1</b> Loading datasets</a></li>
<li class="chapter" data-level="4.2" data-path="writing-to-a-files.html"><a href="writing-to-a-files.html"><i class="fa fa-check"></i><b>4.2</b> Writing to a files</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformations.html"><a href="data-transformations.html"><i class="fa fa-check"></i><b>5</b> Data Transformations</a><ul>
<li class="chapter" data-level="5.1" data-path="dplyr-library.html"><a href="dplyr-library.html"><i class="fa fa-check"></i><b>5.1</b> <code>dplyr</code> library</a></li>
<li class="chapter" data-level="5.2" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>5.2</b> Filter</a></li>
<li class="chapter" data-level="5.3" data-path="comparison-operators.html"><a href="comparison-operators.html"><i class="fa fa-check"></i><b>5.3</b> Comparison (operators)</a></li>
<li class="chapter" data-level="5.4" data-path="logical-operators.html"><a href="logical-operators.html"><i class="fa fa-check"></i><b>5.4</b> Logical operators</a></li>
<li class="chapter" data-level="5.5" data-path="arrange.html"><a href="arrange.html"><i class="fa fa-check"></i><b>5.5</b> Arrange</a></li>
<li class="chapter" data-level="5.6" data-path="select.html"><a href="select.html"><i class="fa fa-check"></i><b>5.6</b> Select</a></li>
<li class="chapter" data-level="5.7" data-path="mutate.html"><a href="mutate.html"><i class="fa fa-check"></i><b>5.7</b> Mutate</a></li>
<li class="chapter" data-level="5.8" data-path="summarize-summarise.html"><a href="summarize-summarise.html"><i class="fa fa-check"></i><b>5.8</b> Summarize (summarise)</a></li>
<li class="chapter" data-level="5.9" data-path="groupby.html"><a href="groupby.html"><i class="fa fa-check"></i><b>5.9</b> Groupby</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>6</b> Tidy data</a><ul>
<li class="chapter" data-level="6.1" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>6.1</b> tidyr</a></li>
<li class="chapter" data-level="6.2" data-path="gather.html"><a href="gather.html"><i class="fa fa-check"></i><b>6.2</b> Gather</a></li>
<li class="chapter" data-level="6.3" data-path="primer-to-joins.html"><a href="primer-to-joins.html"><i class="fa fa-check"></i><b>6.3</b> Primer to joins</a></li>
<li class="chapter" data-level="6.4" data-path="spread.html"><a href="spread.html"><i class="fa fa-check"></i><b>6.4</b> Spread</a></li>
<li class="chapter" data-level="6.5" data-path="separate.html"><a href="separate.html"><i class="fa fa-check"></i><b>6.5</b> Separate</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="relational-data-in-r.html"><a href="relational-data-in-r.html"><i class="fa fa-check"></i><b>7</b> Relational Data in R</a><ul>
<li class="chapter" data-level="7.1" data-path="create-simple-datasets.html"><a href="create-simple-datasets.html"><i class="fa fa-check"></i><b>7.1</b> Create simple datasets</a></li>
<li class="chapter" data-level="7.2" data-path="one-to-one.html"><a href="one-to-one.html"><i class="fa fa-check"></i><b>7.2</b> one-to-one</a></li>
<li class="chapter" data-level="7.3" data-path="many-to-one-or-one-to-many.html"><a href="many-to-one-or-one-to-many.html"><i class="fa fa-check"></i><b>7.3</b> many to one OR one to many</a></li>
<li class="chapter" data-level="7.4" data-path="many-to-many.html"><a href="many-to-many.html"><i class="fa fa-check"></i><b>7.4</b> many to many</a></li>
<li class="chapter" data-level="7.5" data-path="multiple-keys.html"><a href="multiple-keys.html"><i class="fa fa-check"></i><b>7.5</b> Multiple keys</a></li>
<li class="chapter" data-level="7.6" data-path="different-column-names.html"><a href="different-column-names.html"><i class="fa fa-check"></i><b>7.6</b> Different column names</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>8</b> Strings</a><ul>
<li class="chapter" data-level="8.1" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>8.1</b> Regular Expressions</a><ul>
<li class="chapter" data-level="8.1.1" data-path="regular-expressions.html"><a href="regular-expressions.html#intro"><i class="fa fa-check"></i><b>8.1.1</b> Intro</a></li>
<li class="chapter" data-level="8.1.2" data-path="regular-expressions.html"><a href="regular-expressions.html#basic-web-scraping-example"><i class="fa fa-check"></i><b>8.1.2</b> Basic Web Scraping Example</a></li>
<li class="chapter" data-level="8.1.3" data-path="regular-expressions.html"><a href="regular-expressions.html#lookaround-examples"><i class="fa fa-check"></i><b>8.1.3</b> Lookaround Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>9</b> Factors</a><ul>
<li class="chapter" data-level="9.1" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>9.1</b> forcats</a></li>
<li class="chapter" data-level="9.2" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>9.2</b> Sorting</a></li>
<li class="chapter" data-level="9.3" data-path="counting.html"><a href="counting.html"><i class="fa fa-check"></i><b>9.3</b> Counting</a></li>
<li class="chapter" data-level="9.4" data-path="re-ording-factors.html"><a href="re-ording-factors.html"><i class="fa fa-check"></i><b>9.4</b> Re-ording factors</a></li>
<li class="chapter" data-level="9.5" data-path="modifying-factor-values.html"><a href="modifying-factor-values.html"><i class="fa fa-check"></i><b>9.5</b> Modifying factor values</a><ul>
<li class="chapter" data-level="9.5.1" data-path="modifying-factor-values.html"><a href="modifying-factor-values.html#double-check-your-work"><i class="fa fa-check"></i><b>9.5.1</b> Double check your work</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>10</b> Dates and Times</a><ul>
<li class="chapter" data-level="10.1" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>10.1</b> lubridate</a></li>
<li class="chapter" data-level="10.2" data-path="making-datetimes-from-data.html"><a href="making-datetimes-from-data.html"><i class="fa fa-check"></i><b>10.2</b> Making datetimes from data</a></li>
<li class="chapter" data-level="10.3" data-path="non-standard-date-formatting.html"><a href="non-standard-date-formatting.html"><i class="fa fa-check"></i><b>10.3</b> Non-standard date formatting</a></li>
<li class="chapter" data-level="10.4" data-path="strptime-format-variables.html"><a href="strptime-format-variables.html"><i class="fa fa-check"></i><b>10.4</b> strptime format variables</a></li>
<li class="chapter" data-level="10.5" data-path="datetime-arithmetic.html"><a href="datetime-arithmetic.html"><i class="fa fa-check"></i><b>10.5</b> Datetime arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sql-databases.html"><a href="sql-databases.html"><i class="fa fa-check"></i><b>11</b> SQL Databases</a><ul>
<li class="chapter" data-level="11.1" data-path="databases-in-r.html"><a href="databases-in-r.html"><i class="fa fa-check"></i><b>11.1</b> Databases in R</a><ul>
<li class="chapter" data-level="11.1.1" data-path="databases-in-r.html"><a href="databases-in-r.html#create-reusable-connection-to-database"><i class="fa fa-check"></i><b>11.1.1</b> CREATE REUSABLE CONNECTION TO DATABASE</a></li>
<li class="chapter" data-level="11.1.2" data-path="databases-in-r.html"><a href="databases-in-r.html#write-data-to-database-tables"><i class="fa fa-check"></i><b>11.1.2</b> WRITE DATA TO DATABASE TABLES</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>11.2</b> Joins</a><ul>
<li class="chapter" data-level="11.2.1" data-path="joins.html"><a href="joins.html#join-tables-in-sql-with-dbi"><i class="fa fa-check"></i><b>11.2.1</b> JOIN TABLES IN SQL WITH DBI</a></li>
<li class="chapter" data-level="11.2.2" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk"><i class="fa fa-check"></i><b>11.2.2</b> JOIN TABLES IN SQL IN SQL CHUNK</a></li>
<li class="chapter" data-level="11.2.3" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-with-output-variable"><i class="fa fa-check"></i><b>11.2.3</b> JOIN TABLES IN SQL IN SQL CHUNK WITH OUTPUT VARIABLE</a></li>
<li class="chapter" data-level="11.2.4" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-where-clause-and-fuzzy-search"><i class="fa fa-check"></i><b>11.2.4</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY WHERE CLAUSE AND FUZZY SEARCH</a></li>
<li class="chapter" data-level="11.2.5" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-where-clause-with-and-and-fuzzy-search"><i class="fa fa-check"></i><b>11.2.5</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY WHERE CLAUSE WITH ‘AND’ AND FUZZY SEARCH</a></li>
<li class="chapter" data-level="11.2.6" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-select-and-where-clause-with-and-and-fuzzy-search-and-order"><i class="fa fa-check"></i><b>11.2.6</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY SELECT AND WHERE CLAUSE WITH ‘AND’ AND FUZZY SEARCH AND ORDER</a></li>
<li class="chapter" data-level="11.2.7" data-path="joins.html"><a href="joins.html#join-tables-in-sql-in-sql-chunk-apply-select-and-where-clause-and-fuzzy-search-and-order-and-group-by-with-aggregate-function"><i class="fa fa-check"></i><b>11.2.7</b> JOIN TABLES IN SQL IN SQL CHUNK APPLY SELECT AND WHERE CLAUSE AND FUZZY SEARCH AND ORDER AND GROUP BY WITH AGGREGATE FUNCTION</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="dplyr-and-data-table.html"><a href="dplyr-and-data-table.html"><i class="fa fa-check"></i><b>11.3</b> dplyr and data.table</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>12</b> Vectors</a><ul>
<li class="chapter" data-level="12.1" data-path="vectors-c.html"><a href="vectors-c.html"><i class="fa fa-check"></i><b>12.1</b> vectors (c)</a></li>
<li class="chapter" data-level="12.2" data-path="subsetting-vectors.html"><a href="subsetting-vectors.html"><i class="fa fa-check"></i><b>12.2</b> Subsetting vectors</a></li>
<li class="chapter" data-level="12.3" data-path="negative-indicies-drop-by-position.html"><a href="negative-indicies-drop-by-position.html"><i class="fa fa-check"></i><b>12.3</b> Negative indicies drop by position</a></li>
<li class="chapter" data-level="12.4" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>12.4</b> Lists</a></li>
<li class="chapter" data-level="12.5" data-path="named-vectors.html"><a href="named-vectors.html"><i class="fa fa-check"></i><b>12.5</b> Named vectors</a></li>
<li class="chapter" data-level="12.6" data-path="named-lists.html"><a href="named-lists.html"><i class="fa fa-check"></i><b>12.6</b> Named lists</a></li>
<li class="chapter" data-level="12.7" data-path="vectorization-broadcasting.html"><a href="vectorization-broadcasting.html"><i class="fa fa-check"></i><b>12.7</b> vectorization / broadcasting</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>13</b> Functions</a><ul>
<li class="chapter" data-level="13.1" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>13.1</b> Writing Functions</a><ul>
<li class="chapter" data-level="13.1.1" data-path="writing-functions.html"><a href="writing-functions.html#fahrenheit-to-kelvin"><i class="fa fa-check"></i><b>13.1.1</b> Fahrenheit to Kelvin</a></li>
<li class="chapter" data-level="13.1.2" data-path="writing-functions.html"><a href="writing-functions.html#kelvin-to-celsius"><i class="fa fa-check"></i><b>13.1.2</b> Kelvin to Celsius</a></li>
<li class="chapter" data-level="13.1.3" data-path="writing-functions.html"><a href="writing-functions.html#fahrenheit-to-celsius"><i class="fa fa-check"></i><b>13.1.3</b> Fahrenheit to Celsius</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>14</b> Conditionals</a><ul>
<li class="chapter" data-level="14.1" data-path="if-statements.html"><a href="if-statements.html"><i class="fa fa-check"></i><b>14.1</b> if statements</a></li>
<li class="chapter" data-level="14.2" data-path="if-else-statements.html"><a href="if-else-statements.html"><i class="fa fa-check"></i><b>14.2</b> If else statements</a></li>
<li class="chapter" data-level="14.3" data-path="dealing-with-na.html"><a href="dealing-with-na.html"><i class="fa fa-check"></i><b>14.3</b> Dealing with NA</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>15</b> Iteration</a><ul>
<li class="chapter" data-level="15.1" data-path="broadcasting.html"><a href="broadcasting.html"><i class="fa fa-check"></i><b>15.1</b> Broadcasting</a></li>
<li class="chapter" data-level="15.2" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>15.2</b> For loops</a><ul>
<li class="chapter" data-level="15.2.1" data-path="for-loops.html"><a href="for-loops.html#pre-allocating-in-a-loop"><i class="fa fa-check"></i><b>15.2.1</b> Pre allocating in a loop</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="purrr-map.html"><a href="purrr-map.html"><i class="fa fa-check"></i><b>15.3</b> purrr (map)</a></li>
<li class="chapter" data-level="15.4" data-path="apply-in-base-r.html"><a href="apply-in-base-r.html"><i class="fa fa-check"></i><b>15.4</b> Apply (in base R)</a><ul>
<li class="chapter" data-level="15.4.1" data-path="apply-in-base-r.html"><a href="apply-in-base-r.html#lapply"><i class="fa fa-check"></i><b>15.4.1</b> lapply</a></li>
<li class="chapter" data-level="15.4.2" data-path="apply-in-base-r.html"><a href="apply-in-base-r.html#sapply"><i class="fa fa-check"></i><b>15.4.2</b> sapply</a></li>
<li class="chapter" data-level="15.4.3" data-path="apply-in-base-r.html"><a href="apply-in-base-r.html#mapply"><i class="fa fa-check"></i><b>15.4.3</b> mapply</a></li>
<li class="chapter" data-level="15.4.4" data-path="apply-in-base-r.html"><a href="apply-in-base-r.html#apply-2-dimensions"><i class="fa fa-check"></i><b>15.4.4</b> apply (2-dimensions)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="r-dialects.html"><a href="r-dialects.html"><i class="fa fa-check"></i><b>16</b> R Dialects</a><ul>
<li class="chapter" data-level="16.1" data-path="data-frame.html"><a href="data-frame.html"><i class="fa fa-check"></i><b>16.1</b> data.frame</a><ul>
<li class="chapter" data-level="16.1.1" data-path="data-frame.html"><a href="data-frame.html#convert-to-dataframe"><i class="fa fa-check"></i><b>16.1.1</b> Convert to dataframe</a></li>
<li class="chapter" data-level="16.1.2" data-path="data-frame.html"><a href="data-frame.html#select-columns"><i class="fa fa-check"></i><b>16.1.2</b> Select columns</a></li>
<li class="chapter" data-level="16.1.3" data-path="data-frame.html"><a href="data-frame.html#select-column-as-dataframe"><i class="fa fa-check"></i><b>16.1.3</b> Select column as dataframe</a></li>
<li class="chapter" data-level="16.1.4" data-path="data-frame.html"><a href="data-frame.html#filtering-rows"><i class="fa fa-check"></i><b>16.1.4</b> Filtering rows</a></li>
<li class="chapter" data-level="16.1.5" data-path="data-frame.html"><a href="data-frame.html#filter-rows-and-select-columns"><i class="fa fa-check"></i><b>16.1.5</b> Filter rows and select columns</a></li>
<li class="chapter" data-level="16.1.6" data-path="data-frame.html"><a href="data-frame.html#works-with-dplyr"><i class="fa fa-check"></i><b>16.1.6</b> Works with dplyr</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V R Special Topics</b></span></li>
<li class="chapter" data-level="17" data-path="data-table.html"><a href="data-table.html"><i class="fa fa-check"></i><b>17</b> data.table</a><ul>
<li class="chapter" data-level="17.1" data-path="read-into-data-table.html"><a href="read-into-data-table.html"><i class="fa fa-check"></i><b>17.1</b> Read into data.table</a></li>
<li class="chapter" data-level="17.2" data-path="convert-to-data-table.html"><a href="convert-to-data-table.html"><i class="fa fa-check"></i><b>17.2</b> Convert to data.table</a></li>
<li class="chapter" data-level="17.3" data-path="working-with-data-table.html"><a href="working-with-data-table.html"><i class="fa fa-check"></i><b>17.3</b> Working with data.table</a><ul>
<li class="chapter" data-level="17.3.1" data-path="working-with-data-table.html"><a href="working-with-data-table.html#select-columns-list-."><i class="fa fa-check"></i><b>17.3.1</b> Select columns list() .()</a></li>
<li class="chapter" data-level="17.3.2" data-path="working-with-data-table.html"><a href="working-with-data-table.html#functions-on-columns"><i class="fa fa-check"></i><b>17.3.2</b> Functions on columns</a></li>
<li class="chapter" data-level="17.3.3" data-path="working-with-data-table.html"><a href="working-with-data-table.html#n-counts"><i class="fa fa-check"></i><b>17.3.3</b> .N (counts)</a></li>
<li class="chapter" data-level="17.3.4" data-path="working-with-data-table.html"><a href="working-with-data-table.html#using-dplyr"><i class="fa fa-check"></i><b>17.3.4</b> Using dplyr</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i><b>18</b> Spatial Data</a></li>
<li class="chapter" data-level="19" data-path="apis-and-web-scraping.html"><a href="apis-and-web-scraping.html"><i class="fa fa-check"></i><b>19</b> APIs and Web Scraping</a><ul>
<li class="chapter" data-level="19.1" data-path="tables-from-websites-wikipedia.html"><a href="tables-from-websites-wikipedia.html"><i class="fa fa-check"></i><b>19.1</b> Tables from websites (wikipedia)</a></li>
<li class="chapter" data-level="19.2" data-path="websites-rvest.html"><a href="websites-rvest.html"><i class="fa fa-check"></i><b>19.2</b> Websites (rvest)</a></li>
<li class="chapter" data-level="19.3" data-path="selenium.html"><a href="selenium.html"><i class="fa fa-check"></i><b>19.3</b> Selenium</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>20</b> Communication</a></li>
<li class="chapter" data-level="21" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>21</b> Shiny</a></li>
<li class="chapter" data-level="22" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>22</b> Text Mining</a></li>
<li class="part"><span><b>VI Modeling</b></span></li>
<li class="chapter" data-level="23" data-path="random-forests.html"><a href="random-forests.html"><i class="fa fa-check"></i><b>23</b> Random Forests</a><ul>
<li class="chapter" data-level="23.1" data-path="cart.html"><a href="cart.html"><i class="fa fa-check"></i><b>23.1</b> CART</a></li>
<li class="chapter" data-level="23.2" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i><b>23.2</b> Bootstrapping</a></li>
<li class="chapter" data-level="23.3" data-path="bagging.html"><a href="bagging.html"><i class="fa fa-check"></i><b>23.3</b> Bagging</a></li>
<li class="chapter" data-level="23.4" data-path="viewing-random-forests.html"><a href="viewing-random-forests.html"><i class="fa fa-check"></i><b>23.4</b> Viewing Random Forests</a></li>
</ul></li>
<li class="part"><span><b>VII Exercises</b></span></li>
<li class="part"><span><b>VIII Back Matter</b></span></li>
<li class="chapter" data-level="" data-path="build-details.html"><a href="build-details.html"><i class="fa fa-check"></i>Build Details</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Training Manual for SDAL</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bagging" class="section level2">
<h2><span class="header-section-number">23.3</span> Bagging</h2>
<p>Just as bootstrapping can estimate variability for statistics, it can also do so for predictions. This process is known as Bootstrap AGGrigation, or bagging. It turns out that, when doing bootstrap sampling, about 1/3 of the entries don’t make it into the resampled data set. These points are called out-of-bag (oob), and the rest are in-bag. We can use oob data like a free testing set. First a simple example to illustrate, then a non-trivial one.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" data-line-number="1">mpgLm =<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt, <span class="dt">data =</span> mtcars)</a>
<a class="sourceLine" id="cb365-2" data-line-number="2"><span class="kw">summary</span>(mpgLm)</a>
<a class="sourceLine" id="cb365-3" data-line-number="3">## </a>
<a class="sourceLine" id="cb365-4" data-line-number="4">## Call:</a>
<a class="sourceLine" id="cb365-5" data-line-number="5">## lm(formula = mpg ~ hp + wt, data = mtcars)</a>
<a class="sourceLine" id="cb365-6" data-line-number="6">## </a>
<a class="sourceLine" id="cb365-7" data-line-number="7">## Residuals:</a>
<a class="sourceLine" id="cb365-8" data-line-number="8">##    Min     1Q Median     3Q    Max </a>
<a class="sourceLine" id="cb365-9" data-line-number="9">## -3.941 -1.600 -0.182  1.050  5.854 </a>
<a class="sourceLine" id="cb365-10" data-line-number="10">## </a>
<a class="sourceLine" id="cb365-11" data-line-number="11">## Coefficients:</a>
<a class="sourceLine" id="cb365-12" data-line-number="12">##             Estimate Std. Error t value Pr(&gt;|t|)    </a>
<a class="sourceLine" id="cb365-13" data-line-number="13">## (Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***</a>
<a class="sourceLine" id="cb365-14" data-line-number="14">## hp          -0.03177    0.00903  -3.519  0.00145 ** </a>
<a class="sourceLine" id="cb365-15" data-line-number="15">## wt          -3.87783    0.63273  -6.129 1.12e-06 ***</a>
<a class="sourceLine" id="cb365-16" data-line-number="16">## ---</a>
<a class="sourceLine" id="cb365-17" data-line-number="17">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</a>
<a class="sourceLine" id="cb365-18" data-line-number="18">## </a>
<a class="sourceLine" id="cb365-19" data-line-number="19">## Residual standard error: 2.593 on 29 degrees of freedom</a>
<a class="sourceLine" id="cb365-20" data-line-number="20">## Multiple R-squared:  0.8268, Adjusted R-squared:  0.8148 </a>
<a class="sourceLine" id="cb365-21" data-line-number="21">## F-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12</a></code></pre></div>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb366-1" data-line-number="1">b =<span class="st"> </span><span class="dv">2000</span></a>
<a class="sourceLine" id="cb366-2" data-line-number="2">oobPredictions =<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow =</span> <span class="kw">nrow</span>(mtcars), <span class="dt">ncol =</span> b)</a>
<a class="sourceLine" id="cb366-3" data-line-number="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>b){</a>
<a class="sourceLine" id="cb366-4" data-line-number="4">  resampleIndices =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(mtcars), <span class="kw">nrow</span>(mtcars), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb366-5" data-line-number="5">  <span class="co"># use the set difference to find the out of bag indices</span></a>
<a class="sourceLine" id="cb366-6" data-line-number="6">  oobIndices =<span class="st"> </span><span class="kw">setdiff</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(mtcars), resampleIndices)</a>
<a class="sourceLine" id="cb366-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb366-8" data-line-number="8">  bootstrapMtcars =<span class="st"> </span>mtcars[resampleIndices, ]</a>
<a class="sourceLine" id="cb366-9" data-line-number="9">  oobMtcars =<span class="st"> </span>mtcars[oobIndices,]</a>
<a class="sourceLine" id="cb366-10" data-line-number="10">  bootstrapLm =<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt, <span class="dt">data =</span> bootstrapMtcars)</a>
<a class="sourceLine" id="cb366-11" data-line-number="11">  oobPreds =<span class="st"> </span><span class="kw">predict</span>(bootstrapLm, oobMtcars)</a>
<a class="sourceLine" id="cb366-12" data-line-number="12">  oobPredictions[oobIndices, i] =<span class="st"> </span>oobPreds</a>
<a class="sourceLine" id="cb366-13" data-line-number="13">} </a></code></pre></div>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" data-line-number="1">oobPredictions[, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb367-2" data-line-number="2">##            [,1]     [,2]     [,3]     [,4]      [,5]</a>
<a class="sourceLine" id="cb367-3" data-line-number="3">##  [1,] 22.494587       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-4" data-line-number="4">##  [2,]        NA       NA       NA 22.96562 23.440193</a>
<a class="sourceLine" id="cb367-5" data-line-number="5">##  [3,]        NA 26.11981       NA 25.36036        NA</a>
<a class="sourceLine" id="cb367-6" data-line-number="6">##  [4,] 19.798269 22.41944 21.68780 22.00558 22.124690</a>
<a class="sourceLine" id="cb367-7" data-line-number="7">##  [5,]        NA       NA 18.56648       NA 18.649486</a>
<a class="sourceLine" id="cb367-8" data-line-number="8">##  [6,] 18.786115 21.87208       NA       NA        NA</a>
<a class="sourceLine" id="cb367-9" data-line-number="9">##  [7,]        NA       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-10" data-line-number="10">##  [8,] 20.853263       NA 23.58794       NA 24.144853</a>
<a class="sourceLine" id="cb367-11" data-line-number="11">##  [9,]        NA       NA       NA 22.91937        NA</a>
<a class="sourceLine" id="cb367-12" data-line-number="12">## [10,]        NA       NA 20.54729 20.73738        NA</a>
<a class="sourceLine" id="cb367-13" data-line-number="13">## [11,]        NA       NA       NA 20.73738        NA</a>
<a class="sourceLine" id="cb367-14" data-line-number="14">## [12,]        NA       NA 16.56916       NA        NA</a>
<a class="sourceLine" id="cb367-15" data-line-number="15">## [13,]        NA       NA 17.54429 17.14356 17.327081</a>
<a class="sourceLine" id="cb367-16" data-line-number="16">## [14,]        NA       NA 17.40089 17.00238        NA</a>
<a class="sourceLine" id="cb367-17" data-line-number="17">## [15,]  8.712622 11.28819 12.23258       NA        NA</a>
<a class="sourceLine" id="cb367-18" data-line-number="18">## [16,]        NA       NA       NA 10.65639  9.370276</a>
<a class="sourceLine" id="cb367-19" data-line-number="19">## [17,]  7.791647       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-20" data-line-number="20">## [18,] 25.261098       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-21" data-line-number="21">## [19,] 28.186763 30.36620       NA       NA 30.639444</a>
<a class="sourceLine" id="cb367-22" data-line-number="22">## [20,] 26.934760       NA 27.35984       NA        NA</a>
<a class="sourceLine" id="cb367-23" data-line-number="23">## [21,] 23.452033       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-24" data-line-number="24">## [22,] 17.631370       NA       NA       NA 19.341744</a>
<a class="sourceLine" id="cb367-25" data-line-number="25">## [23,]        NA 19.78221 19.53314       NA 19.670620</a>
<a class="sourceLine" id="cb367-26" data-line-number="26">## [24,]        NA       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-27" data-line-number="27">## [25,] 15.668121       NA       NA       NA        NA</a>
<a class="sourceLine" id="cb367-28" data-line-number="28">## [26,] 26.461979       NA       NA       NA 28.840321</a>
<a class="sourceLine" id="cb367-29" data-line-number="29">## [27,]        NA       NA       NA       NA 27.045361</a>
<a class="sourceLine" id="cb367-30" data-line-number="30">## [28,]        NA       NA 26.45490 26.66537        NA</a>
<a class="sourceLine" id="cb367-31" data-line-number="31">## [29,]        NA 15.13692       NA 14.63539        NA</a>
<a class="sourceLine" id="cb367-32" data-line-number="32">## [30,] 20.539619 20.71671       NA       NA 21.241801</a>
<a class="sourceLine" id="cb367-33" data-line-number="33">## [31,]        NA 10.42526       NA 10.04940 11.735052</a>
<a class="sourceLine" id="cb367-34" data-line-number="34">## [32,]        NA       NA 22.97348       NA 23.847832</a></code></pre></div>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb368-1" data-line-number="1"><span class="kw">predict</span>(mpgLm, mtcars[<span class="dv">1</span>,], <span class="dt">interval =</span> <span class="st">&quot;confidence&quot;</span>)</a>
<a class="sourceLine" id="cb368-2" data-line-number="2">##                fit      lwr      upr</a>
<a class="sourceLine" id="cb368-3" data-line-number="3">## Mazda RX4 23.57233 22.45623 24.68843</a></code></pre></div>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" data-line-number="1"><span class="kw">quantile</span>(oobPredictions[<span class="dv">1</span>,], <span class="kw">c</span>(.<span class="dv">025</span>, <span class="fl">.975</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb369-2" data-line-number="2">##     2.5%    97.5% </a>
<a class="sourceLine" id="cb369-3" data-line-number="3">## 22.41650 24.74866</a></code></pre></div>
<p>We see the bootstrap confidence interval is very close to the normal theory interval, as was the case above. This isn’t super useful for linear models, but gives us a way to measure uncertainty for models which don’t have a probability model to give us error bars, such as CART.</p>
<p>Now, we bag cart. We’ll use the very first example.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb370-1" data-line-number="1">classTree =<span class="st"> </span><span class="kw">tree</span>(Species <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Petal.Width, <span class="dt">data =</span> iris)</a></code></pre></div>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" data-line-number="1"><span class="kw">summary</span>(classTree)</a>
<a class="sourceLine" id="cb371-2" data-line-number="2">## </a>
<a class="sourceLine" id="cb371-3" data-line-number="3">## Classification tree:</a>
<a class="sourceLine" id="cb371-4" data-line-number="4">## tree(formula = Species ~ Sepal.Length + Sepal.Width + Petal.Length + </a>
<a class="sourceLine" id="cb371-5" data-line-number="5">##     Petal.Width, data = iris)</a>
<a class="sourceLine" id="cb371-6" data-line-number="6">## Variables actually used in tree construction:</a>
<a class="sourceLine" id="cb371-7" data-line-number="7">## [1] &quot;Petal.Length&quot; &quot;Petal.Width&quot;  &quot;Sepal.Length&quot;</a>
<a class="sourceLine" id="cb371-8" data-line-number="8">## Number of terminal nodes:  6 </a>
<a class="sourceLine" id="cb371-9" data-line-number="9">## Residual mean deviance:  0.1253 = 18.05 / 144 </a>
<a class="sourceLine" id="cb371-10" data-line-number="10">## Misclassification error rate: 0.02667 = 4 / 150</a></code></pre></div>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb372-1" data-line-number="1"><span class="kw">plot</span>(classTree)</a>
<a class="sourceLine" id="cb372-2" data-line-number="2"><span class="kw">text</span>(classTree)</a></code></pre></div>
<p><img src="330-CART_files/figure-html/unnamed-chunk-57-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" data-line-number="1"><span class="kw">table</span>(<span class="kw">predict</span>(classTree, <span class="dt">type =</span> <span class="st">&#39;class&#39;</span>), iris<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb373-2" data-line-number="2">##             </a>
<a class="sourceLine" id="cb373-3" data-line-number="3">##              setosa versicolor virginica</a>
<a class="sourceLine" id="cb373-4" data-line-number="4">##   setosa         50          0         0</a>
<a class="sourceLine" id="cb373-5" data-line-number="5">##   versicolor      0         47         1</a>
<a class="sourceLine" id="cb373-6" data-line-number="6">##   virginica       0          3        49</a></code></pre></div>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb374-1" data-line-number="1">b =<span class="st"> </span><span class="dv">2000</span></a>
<a class="sourceLine" id="cb374-2" data-line-number="2">oobPredictions =<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="dt">nrow =</span> <span class="kw">nrow</span>(iris), <span class="dt">ncol =</span> b)</a>
<a class="sourceLine" id="cb374-3" data-line-number="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>b){</a>
<a class="sourceLine" id="cb374-4" data-line-number="4">  resampleIndices =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris), <span class="kw">nrow</span>(iris), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb374-5" data-line-number="5">  <span class="co"># use the set difference to find the out of bag indices</span></a>
<a class="sourceLine" id="cb374-6" data-line-number="6">  oobIndices =<span class="st"> </span><span class="kw">setdiff</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris), resampleIndices)</a>
<a class="sourceLine" id="cb374-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb374-8" data-line-number="8">  bootstrapIris=<span class="st"> </span>iris[resampleIndices, ]</a>
<a class="sourceLine" id="cb374-9" data-line-number="9">  oobIris =<span class="st"> </span>iris[oobIndices,]</a>
<a class="sourceLine" id="cb374-10" data-line-number="10">  bsTree =<span class="st"> </span><span class="kw">tree</span>(Species <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Petal.Width, <span class="dt">data =</span> bootstrapIris)</a>
<a class="sourceLine" id="cb374-11" data-line-number="11">  oobPreds =<span class="st"> </span><span class="kw">predict</span>(bsTree, oobIris, <span class="dt">type =</span> <span class="st">&#39;class&#39;</span>)</a>
<a class="sourceLine" id="cb374-12" data-line-number="12">  oobPredictions[oobIndices, i] =<span class="st"> </span>oobPreds</a>
<a class="sourceLine" id="cb374-13" data-line-number="13">} </a></code></pre></div>
<p>Let’s look at some results!</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" data-line-number="1">oobPredictions[, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb375-2" data-line-number="2">##        [,1] [,2] [,3] [,4] [,5]</a>
<a class="sourceLine" id="cb375-3" data-line-number="3">##   [1,]    1   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-4" data-line-number="4">##   [2,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-5" data-line-number="5">##   [3,]   NA    1    1   NA    1</a>
<a class="sourceLine" id="cb375-6" data-line-number="6">##   [4,]    1   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-7" data-line-number="7">##   [5,]   NA   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-8" data-line-number="8">##   [6,]    1   NA   NA   NA    1</a>
<a class="sourceLine" id="cb375-9" data-line-number="9">##   [7,]    1   NA    1    1   NA</a>
<a class="sourceLine" id="cb375-10" data-line-number="10">##   [8,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-11" data-line-number="11">##   [9,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-12" data-line-number="12">##  [10,]   NA   NA   NA    1   NA</a>
<a class="sourceLine" id="cb375-13" data-line-number="13">##  [11,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-14" data-line-number="14">##  [12,]   NA   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-15" data-line-number="15">##  [13,]   NA    1    1   NA   NA</a>
<a class="sourceLine" id="cb375-16" data-line-number="16">##  [14,]   NA   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-17" data-line-number="17">##  [15,]    1    1    1   NA    1</a>
<a class="sourceLine" id="cb375-18" data-line-number="18">##  [16,]    1    1    1   NA    1</a>
<a class="sourceLine" id="cb375-19" data-line-number="19">##  [17,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-20" data-line-number="20">##  [18,]   NA   NA   NA   NA    1</a>
<a class="sourceLine" id="cb375-21" data-line-number="21">##  [19,]   NA    1   NA    1    1</a>
<a class="sourceLine" id="cb375-22" data-line-number="22">##  [20,]   NA   NA   NA    1   NA</a>
<a class="sourceLine" id="cb375-23" data-line-number="23">##  [21,]   NA   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-24" data-line-number="24">##  [22,]    1   NA    1    1   NA</a>
<a class="sourceLine" id="cb375-25" data-line-number="25">##  [23,]   NA   NA   NA    1   NA</a>
<a class="sourceLine" id="cb375-26" data-line-number="26">##  [24,]    1    1    1    1   NA</a>
<a class="sourceLine" id="cb375-27" data-line-number="27">##  [25,]   NA   NA    1    1    1</a>
<a class="sourceLine" id="cb375-28" data-line-number="28">##  [26,]    1   NA    1   NA   NA</a>
<a class="sourceLine" id="cb375-29" data-line-number="29">##  [27,]   NA   NA   NA   NA    1</a>
<a class="sourceLine" id="cb375-30" data-line-number="30">##  [28,]   NA    1   NA    1    1</a>
<a class="sourceLine" id="cb375-31" data-line-number="31">##  [29,]   NA   NA   NA    1    1</a>
<a class="sourceLine" id="cb375-32" data-line-number="32">##  [30,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-33" data-line-number="33">##  [31,]    1   NA   NA    1   NA</a>
<a class="sourceLine" id="cb375-34" data-line-number="34">##  [32,]   NA    1    1    1    1</a>
<a class="sourceLine" id="cb375-35" data-line-number="35">##  [33,]   NA    1   NA   NA   NA</a>
<a class="sourceLine" id="cb375-36" data-line-number="36">##  [34,]   NA    1   NA   NA   NA</a>
<a class="sourceLine" id="cb375-37" data-line-number="37">##  [35,]    1    1   NA   NA    1</a>
<a class="sourceLine" id="cb375-38" data-line-number="38">##  [36,]   NA   NA   NA    1    1</a>
<a class="sourceLine" id="cb375-39" data-line-number="39">##  [37,]    1    1    1    1    1</a>
<a class="sourceLine" id="cb375-40" data-line-number="40">##  [38,]   NA    1   NA    1   NA</a>
<a class="sourceLine" id="cb375-41" data-line-number="41">##  [39,]   NA   NA   NA    1    1</a>
<a class="sourceLine" id="cb375-42" data-line-number="42">##  [40,]    1   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-43" data-line-number="43">##  [41,]   NA   NA    1   NA   NA</a>
<a class="sourceLine" id="cb375-44" data-line-number="44">##  [42,]   NA   NA   NA    1   NA</a>
<a class="sourceLine" id="cb375-45" data-line-number="45">##  [43,]    1    1    1   NA    1</a>
<a class="sourceLine" id="cb375-46" data-line-number="46">##  [44,]    1   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-47" data-line-number="47">##  [45,]    1   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-48" data-line-number="48">##  [46,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-49" data-line-number="49">##  [47,]   NA   NA    1    1   NA</a>
<a class="sourceLine" id="cb375-50" data-line-number="50">##  [48,]   NA    1   NA   NA   NA</a>
<a class="sourceLine" id="cb375-51" data-line-number="51">##  [49,]   NA   NA    1   NA    1</a>
<a class="sourceLine" id="cb375-52" data-line-number="52">##  [50,]   NA    1   NA   NA    1</a>
<a class="sourceLine" id="cb375-53" data-line-number="53">##  [51,]    2   NA   NA    2   NA</a>
<a class="sourceLine" id="cb375-54" data-line-number="54">##  [52,]   NA   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-55" data-line-number="55">##  [53,]   NA   NA    2   NA    2</a>
<a class="sourceLine" id="cb375-56" data-line-number="56">##  [54,]    2   NA    2    2    2</a>
<a class="sourceLine" id="cb375-57" data-line-number="57">##  [55,]   NA   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-58" data-line-number="58">##  [56,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-59" data-line-number="59">##  [57,]   NA   NA   NA    2   NA</a>
<a class="sourceLine" id="cb375-60" data-line-number="60">##  [58,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-61" data-line-number="61">##  [59,]   NA   NA   NA    2    2</a>
<a class="sourceLine" id="cb375-62" data-line-number="62">##  [60,]   NA   NA   NA   NA    2</a>
<a class="sourceLine" id="cb375-63" data-line-number="63">##  [61,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-64" data-line-number="64">##  [62,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-65" data-line-number="65">##  [63,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-66" data-line-number="66">##  [64,]    2   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-67" data-line-number="67">##  [65,]   NA   NA   NA   NA    2</a>
<a class="sourceLine" id="cb375-68" data-line-number="68">##  [66,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-69" data-line-number="69">##  [67,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-70" data-line-number="70">##  [68,]   NA   NA   NA   NA    2</a>
<a class="sourceLine" id="cb375-71" data-line-number="71">##  [69,]    2   NA   NA    2   NA</a>
<a class="sourceLine" id="cb375-72" data-line-number="72">##  [70,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-73" data-line-number="73">##  [71,]   NA   NA   NA    3    3</a>
<a class="sourceLine" id="cb375-74" data-line-number="74">##  [72,]    2   NA   NA    2    2</a>
<a class="sourceLine" id="cb375-75" data-line-number="75">##  [73,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-76" data-line-number="76">##  [74,]   NA    2   NA    2   NA</a>
<a class="sourceLine" id="cb375-77" data-line-number="77">##  [75,]    2   NA    2    2   NA</a>
<a class="sourceLine" id="cb375-78" data-line-number="78">##  [76,]   NA   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-79" data-line-number="79">##  [77,]   NA   NA   NA   NA    2</a>
<a class="sourceLine" id="cb375-80" data-line-number="80">##  [78,]   NA   NA    3    3   NA</a>
<a class="sourceLine" id="cb375-81" data-line-number="81">##  [79,]    2   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-82" data-line-number="82">##  [80,]    2   NA   NA    2   NA</a>
<a class="sourceLine" id="cb375-83" data-line-number="83">##  [81,]   NA    2    2   NA    2</a>
<a class="sourceLine" id="cb375-84" data-line-number="84">##  [82,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-85" data-line-number="85">##  [83,]   NA   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-86" data-line-number="86">##  [84,]   NA    3   NA    3   NA</a>
<a class="sourceLine" id="cb375-87" data-line-number="87">##  [85,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-88" data-line-number="88">##  [86,]    2    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-89" data-line-number="89">##  [87,]    2    2    2    2   NA</a>
<a class="sourceLine" id="cb375-90" data-line-number="90">##  [88,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-91" data-line-number="91">##  [89,]    2   NA    2    2   NA</a>
<a class="sourceLine" id="cb375-92" data-line-number="92">##  [90,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-93" data-line-number="93">##  [91,]   NA    2   NA    2   NA</a>
<a class="sourceLine" id="cb375-94" data-line-number="94">##  [92,]   NA   NA   NA    2   NA</a>
<a class="sourceLine" id="cb375-95" data-line-number="95">##  [93,]   NA    2    2   NA   NA</a>
<a class="sourceLine" id="cb375-96" data-line-number="96">##  [94,]   NA    2   NA   NA   NA</a>
<a class="sourceLine" id="cb375-97" data-line-number="97">##  [95,]   NA   NA   NA    2    2</a>
<a class="sourceLine" id="cb375-98" data-line-number="98">##  [96,]   NA    2    2   NA   NA</a>
<a class="sourceLine" id="cb375-99" data-line-number="99">##  [97,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-100" data-line-number="100">##  [98,]   NA    2    2   NA    2</a>
<a class="sourceLine" id="cb375-101" data-line-number="101">##  [99,]    2   NA    2   NA    2</a>
<a class="sourceLine" id="cb375-102" data-line-number="102">## [100,]   NA   NA    2   NA   NA</a>
<a class="sourceLine" id="cb375-103" data-line-number="103">## [101,]    3   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-104" data-line-number="104">## [102,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-105" data-line-number="105">## [103,]    3   NA    3   NA    3</a>
<a class="sourceLine" id="cb375-106" data-line-number="106">## [104,]   NA    3    3    3    3</a>
<a class="sourceLine" id="cb375-107" data-line-number="107">## [105,]   NA    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-108" data-line-number="108">## [106,]   NA    3   NA   NA    3</a>
<a class="sourceLine" id="cb375-109" data-line-number="109">## [107,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-110" data-line-number="110">## [108,]   NA    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-111" data-line-number="111">## [109,]   NA   NA   NA    3   NA</a>
<a class="sourceLine" id="cb375-112" data-line-number="112">## [110,]    3   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-113" data-line-number="113">## [111,]    3   NA    3   NA    3</a>
<a class="sourceLine" id="cb375-114" data-line-number="114">## [112,]   NA   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-115" data-line-number="115">## [113,]   NA   NA   NA   NA    3</a>
<a class="sourceLine" id="cb375-116" data-line-number="116">## [114,]   NA   NA   NA    3    3</a>
<a class="sourceLine" id="cb375-117" data-line-number="117">## [115,]   NA   NA   NA    3   NA</a>
<a class="sourceLine" id="cb375-118" data-line-number="118">## [116,]    3    3   NA    3    3</a>
<a class="sourceLine" id="cb375-119" data-line-number="119">## [117,]   NA    3    3   NA   NA</a>
<a class="sourceLine" id="cb375-120" data-line-number="120">## [118,]    3   NA   NA   NA    3</a>
<a class="sourceLine" id="cb375-121" data-line-number="121">## [119,]    3   NA    3    3    3</a>
<a class="sourceLine" id="cb375-122" data-line-number="122">## [120,]    2   NA    3    3   NA</a>
<a class="sourceLine" id="cb375-123" data-line-number="123">## [121,]   NA    3    3   NA   NA</a>
<a class="sourceLine" id="cb375-124" data-line-number="124">## [122,]   NA    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-125" data-line-number="125">## [123,]   NA   NA   NA    3    3</a>
<a class="sourceLine" id="cb375-126" data-line-number="126">## [124,]    3   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-127" data-line-number="127">## [125,]   NA    3   NA    3   NA</a>
<a class="sourceLine" id="cb375-128" data-line-number="128">## [126,]   NA   NA    3    3   NA</a>
<a class="sourceLine" id="cb375-129" data-line-number="129">## [127,]   NA   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-130" data-line-number="130">## [128,]   NA    3    3   NA   NA</a>
<a class="sourceLine" id="cb375-131" data-line-number="131">## [129,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-132" data-line-number="132">## [130,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-133" data-line-number="133">## [131,]   NA    3   NA    3   NA</a>
<a class="sourceLine" id="cb375-134" data-line-number="134">## [132,]    3    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-135" data-line-number="135">## [133,]   NA   NA    3   NA    3</a>
<a class="sourceLine" id="cb375-136" data-line-number="136">## [134,]    2    3   NA    3    2</a>
<a class="sourceLine" id="cb375-137" data-line-number="137">## [135,]    2   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-138" data-line-number="138">## [136,]   NA    3   NA   NA    3</a>
<a class="sourceLine" id="cb375-139" data-line-number="139">## [137,]   NA   NA   NA   NA   NA</a>
<a class="sourceLine" id="cb375-140" data-line-number="140">## [138,]   NA    3    3   NA   NA</a>
<a class="sourceLine" id="cb375-141" data-line-number="141">## [139,]    3    3   NA    3    3</a>
<a class="sourceLine" id="cb375-142" data-line-number="142">## [140,]   NA    3   NA    3    3</a>
<a class="sourceLine" id="cb375-143" data-line-number="143">## [141,]   NA   NA    3    3    3</a>
<a class="sourceLine" id="cb375-144" data-line-number="144">## [142,]    3   NA   NA    3   NA</a>
<a class="sourceLine" id="cb375-145" data-line-number="145">## [143,]   NA   NA   NA   NA    3</a>
<a class="sourceLine" id="cb375-146" data-line-number="146">## [144,]   NA   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-147" data-line-number="147">## [145,]   NA    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-148" data-line-number="148">## [146,]    3    3   NA   NA    3</a>
<a class="sourceLine" id="cb375-149" data-line-number="149">## [147,]   NA   NA   NA   NA    3</a>
<a class="sourceLine" id="cb375-150" data-line-number="150">## [148,]   NA   NA    3   NA   NA</a>
<a class="sourceLine" id="cb375-151" data-line-number="151">## [149,]    3    3   NA   NA   NA</a>
<a class="sourceLine" id="cb375-152" data-line-number="152">## [150,]   NA   NA   NA   NA    3</a></code></pre></div>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" data-line-number="1">bsPreds =<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">prob1 =</span> <span class="kw">apply</span>(oobPredictions, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="kw">sum</span>(x <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)),</a>
<a class="sourceLine" id="cb376-2" data-line-number="2">                <span class="dt">prob2 =</span> <span class="kw">apply</span>(oobPredictions, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="kw">sum</span>(x <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)),</a>
<a class="sourceLine" id="cb376-3" data-line-number="3">                <span class="dt">prob3 =</span> <span class="kw">apply</span>(oobPredictions, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="kw">sum</span>(x <span class="op">==</span><span class="st"> </span><span class="dv">3</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)))</a>
<a class="sourceLine" id="cb376-4" data-line-number="4">bsPreds =<span class="st"> </span>bsPreds <span class="op">/</span><span class="st"> </span><span class="kw">rowSums</span>(bsPreds)</a>
<a class="sourceLine" id="cb376-5" data-line-number="5">bsPreds =<span class="st"> </span><span class="kw">cbind</span>(bsPreds, <span class="dt">Species =</span> iris<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb376-6" data-line-number="6">bsPreds[<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">51</span><span class="op">:</span><span class="dv">60</span>, <span class="dv">101</span><span class="op">:</span><span class="dv">110</span>), ]</a>
<a class="sourceLine" id="cb376-7" data-line-number="7">##       prob1       prob2       prob3 Species</a>
<a class="sourceLine" id="cb376-8" data-line-number="8">##  [1,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-9" data-line-number="9">##  [2,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-10" data-line-number="10">##  [3,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-11" data-line-number="11">##  [4,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-12" data-line-number="12">##  [5,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-13" data-line-number="13">##  [6,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-14" data-line-number="14">##  [7,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-15" data-line-number="15">##  [8,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-16" data-line-number="16">##  [9,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-17" data-line-number="17">## [10,]     1 0.000000000 0.000000000       1</a>
<a class="sourceLine" id="cb376-18" data-line-number="18">## [11,]     0 0.998641304 0.001358696       2</a>
<a class="sourceLine" id="cb376-19" data-line-number="19">## [12,]     0 1.000000000 0.000000000       2</a>
<a class="sourceLine" id="cb376-20" data-line-number="20">## [13,]     0 0.556016598 0.443983402       2</a>
<a class="sourceLine" id="cb376-21" data-line-number="21">## [14,]     0 0.995720399 0.004279601       2</a>
<a class="sourceLine" id="cb376-22" data-line-number="22">## [15,]     0 0.985207101 0.014792899       2</a>
<a class="sourceLine" id="cb376-23" data-line-number="23">## [16,]     0 0.998630137 0.001369863       2</a>
<a class="sourceLine" id="cb376-24" data-line-number="24">## [17,]     0 0.882993197 0.117006803       2</a>
<a class="sourceLine" id="cb376-25" data-line-number="25">## [18,]     0 0.995934959 0.004065041       2</a>
<a class="sourceLine" id="cb376-26" data-line-number="26">## [19,]     0 1.000000000 0.000000000       2</a>
<a class="sourceLine" id="cb376-27" data-line-number="27">## [20,]     0 0.998632011 0.001367989       2</a>
<a class="sourceLine" id="cb376-28" data-line-number="28">## [21,]     0 0.000000000 1.000000000       3</a>
<a class="sourceLine" id="cb376-29" data-line-number="29">## [22,]     0 0.002699055 0.997300945       3</a>
<a class="sourceLine" id="cb376-30" data-line-number="30">## [23,]     0 0.000000000 1.000000000       3</a>
<a class="sourceLine" id="cb376-31" data-line-number="31">## [24,]     0 0.001385042 0.998614958       3</a>
<a class="sourceLine" id="cb376-32" data-line-number="32">## [25,]     0 0.000000000 1.000000000       3</a>
<a class="sourceLine" id="cb376-33" data-line-number="33">## [26,]     0 0.000000000 1.000000000       3</a>
<a class="sourceLine" id="cb376-34" data-line-number="34">## [27,]     0 0.848360656 0.151639344       3</a>
<a class="sourceLine" id="cb376-35" data-line-number="35">## [28,]     0 0.001394700 0.998605300       3</a>
<a class="sourceLine" id="cb376-36" data-line-number="36">## [29,]     0 0.001367989 0.998632011       3</a>
<a class="sourceLine" id="cb376-37" data-line-number="37">## [30,]     0 0.000000000 1.000000000       3</a></code></pre></div>
<p>Congratulations, we just fit a random forest!</p>
<p>Let’s see where the model is uncertain.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" data-line-number="1">uncertainty =<span class="st"> </span><span class="kw">apply</span>(bsPreds[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="dv">1</span><span class="op">/</span><span class="kw">var</span>(x))</a>
<a class="sourceLine" id="cb377-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> iris) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, <span class="dt">y =</span> Petal.Width, <span class="dt">col =</span> Species, <span class="dt">size =</span> uncertainty))</a></code></pre></div>
<p><img src="330-CART_files/figure-html/unnamed-chunk-62-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>As expected, the model is perfectly sure about setosa, but uncertain on the boundary between versicolo and virginica.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bootstrapping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="viewing-random-forests.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bi-sdal/training/edit/master/330-CART.Rmd",
"text": "Edit"
},
"download": ["sdal-training.pdf", "sdal-training.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
